<!DOCTYPE html ><html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8"><meta http-equiv="Content-Style-Type" content="text/css"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>Creating Your Own Listeners</title><link rel="Prev" href="co-lsr_triggerlistener_and_joblistener.html" title="Previous"><link rel="Next" href="to-slsr_working_with_schedulerlisteners.html" title="Next"><link rel="StyleSheet" href="css/_qs_all.css" type="text/css" media="all"><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all"><link rel="StyleSheet" href="css/social.css" type="text/css" media="all"><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all"><!--[if IE 7]><link rel="StyleSheet" href="css/_qs_all_IE7.css" type="text/css" media="all"><![endif]--><link rel="StyleSheet" href="css/print.css" type="text/css" media="print"><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if (window === window.top) {
        // Redirect
        //
        redirect_url = "../index.html#page/quartz-scheduler-webhelp/co-lsr_creating_your_own_listeners.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');
            redirect_url += '#' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script></head><body id="pkNglL4XKsCvcZz_002fd3mbHeg" class="ww_skin_page_body" onload="Page.OnLoad('../index.html#page/quartz-scheduler-webhelp/co-lsr_creating_your_own_listeners.html');"><header id="wwconnect_header"><div class="ww_skin_breadcrumbs"><span class="ww_skin_breadcrumbs_parent"><a href="../quartz-scheduler-webhelp/_qs_all.1.009.html#wwconnect_header">Quartz Scheduler Developer Guide</a></span><span class="ww_skin_breadcrumbs_divider"> : </span><span class="ww_skin_breadcrumbs_parent"><a href="../quartz-scheduler-webhelp/to-lsr_working_with_tiggerlisteners_and_joblisteners.html#wwconnect_header">Working with TriggerListeners and JobListeners</a></span><span class="ww_skin_breadcrumbs_divider"> : </span><span class="ww_skin_breadcrumbs_current">Creating Your Own Listeners</span></div><div class="ww_skin_page_toolbar"></div></header><div id="ww3_9_13_9_1" class="Heading_2">Creating Your Own Listeners</div><div id="ww3_9_13_9_3_2" class="Body">To create a listener, simply create an object that implements the org.quartz.TriggerListener and/or org.quartz.JobListener interface.</div><div id="ww3_9_13_9_3_4" class="Body">Listeners are then registered with the scheduler at run time, and must be given a name (or rather, they must advertise their own name via their getName() method).</div><div id="ww3_9_13_9_3_6" class="Body">For your convenience, rather than implementing these interfaces, your class could also extend the class JobListenerSupport or TriggerListenerSupport and simply override the events you're interested in.</div><div id="ww3_9_13_9_3_8" class="Body">Listeners are registered with the scheduler's ListenerManager along with a Matcher that describes the Jobs/Triggers for which the listener wants to receive events.</div><div class="ww_skin_page_overflow"><table class="note1" summary=""><tr><td class="Table_Cell" style="padding-right: 6px; vertical-align: top"><div id="ww3_9_13_9_3_10_1_3_1_1_1" class="Note"><span style="font-weight: bold">Note:  </span>&nbsp;</div></td><td class="Table_Cell" style="padding-right: 6px; vertical-align: top"><div id="ww3_9_13_9_3_10_1_3_1_2" class="Table_Cell">Listeners are registered with the scheduler during run time, and are NOT stored in the JobStore along with the jobs and triggers. This is because listeners are typically an integration point with your application. Hence, each time your application runs, the listeners need to be re-registered with the scheduler.</div></td></tr></table></div><div id="ww3_9_13_9_3_12" class="Body">Listeners are not used by most users of Quartz, but are handy when application requirements create the need for the notification of events, without the Job itself having to explicitly notify the application.</div><div id="ww3_9_13_9_3_14_2" class="Section_Title">Code Samples for Adding Listeners</div><div id="ww3_9_13_9_3_14_4" class="Body">The following code samples illustrate ways to add JobListeners with interest in different types of jobs. Adding TriggerListeners works in a the same way.</div><div id="ww3_9_13_9_3_16_2" class="Section_Title">Adding a JobListener that is interested in a particular job:</div><div id="ww3_9_13_9_3_16_4" class="Preformatted">scheduler.getListenerManager().addJobListener(myJobListener, <br>KeyMatcher.jobKeyEquals(new JobKey("myJobName", "myJobGroup")));</div><div id="ww3_9_13_9_3_16_6" class="Body">You may want to use static imports for the matcher and key classes, which will make your defining the matchers cleaner:</div><div id="ww3_9_13_9_3_16_8" class="Preformatted">import static org.quartz.JobKey.*;  <br>import static org.quartz.impl.matchers.KeyMatcher.*;  <br>import static org.quartz.impl.matchers.GroupMatcher.*;  <br>import static org.quartz.impl.matchers.AndMatcher.*;  <br>import static org.quartz.impl.matchers.OrMatcher.*;  <br>import static org.quartz.impl.matchers.EverythingMatcher.*;  <br>...etc.</div><div id="ww3_9_13_9_3_16_10" class="Body">Which turns the above example into this:</div><div id="ww3_9_13_9_3_16_12" class="Preformatted">scheduler.getListenerManager().addJobListener(myJobListener, <br>jobKeyEquals(jobKey("myJobName", "myJobGroup")));</div><div id="ww3_9_13_9_3_16_14" class="Section_Title">Adding a JobListener that is interested in all jobs of a particular group</div><div id="ww3_9_13_9_3_16_16" class="Preformatted">scheduler.getListenerManager().addJobListener(myJobListener, <br>jobGroupEquals("myJobGroup"));</div><div id="ww3_9_13_9_3_16_18" class="Section_Title">Adding a JobListener that is interested in all jobs of two particular groups</div><div id="ww3_9_13_9_3_16_20" class="Preformatted">scheduler.getListenerManager().addJobListener(myJobListener, <br>or(jobGroupEquals("myJobGroup"), jobGroupEquals("yourGroup")));</div><div id="ww3_9_13_9_3_16_22" class="Section_Title">Adding a JobListener that is interested in all jobs</div><div id="ww3_9_13_9_3_16_24" class="Preformatted">scheduler.getListenerManager().addJobListener(myJobListener, <br>allJobs());</div><footer><!-- Related Topics --><!--                --><!-- Back to Top --><!--             --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><br></footer><div><div style="font-family: Arial, Verdana, Helvetica, Sans-Serif; font-size: 11px; margin-top: 20px; margin-bottom: 20px;"><span class="xref"><a href="http://documentation.softwareag.com/legal/" target="external_window">Copyright Â© <span>2010</span><span>-2016</span><span></span><span></span> Software AG, Darmstadt, Germany</a></span>.</div><hr></div><div style="font-family: Arial, Verdana, Helvetica, Sans-Serif; font-size: 13px; font-weight: bold; margin-top: 20px;"><span><img style="vertical-align:middle" src="../connect/quartz_online.png" alt="Product Logo"><!--	     <a href="https://empower.softwareag.com/ContactSupport/default.asp" target="_blank" >Contact&#160;Support</a> --><!--         &#160;&#160;|&#160;&#160;  --><!--         <a href="http://www.softwareag.com/corporate/community/default.asp" target="_blank" >Community</a>  --><!--         &#160;&#160;  -->
          |&nbsp;&nbsp;
        <a href="mailto://documentation@softwareag.com" target="_blank">Feedback&nbsp;&nbsp;</a></span></div></body></html>