<!DOCTYPE html ><html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8"><meta http-equiv="Content-Style-Type" content="text/css"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>Questions About Triggers</title><link rel="Prev" href="co-faq_job_questions.html" title="Previous"><link rel="Next" href="co-faq_jdbc_jobstore_questions.html" title="Next"><link rel="StyleSheet" href="css/_qs_all.css" type="text/css" media="all"><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all"><link rel="StyleSheet" href="css/social.css" type="text/css" media="all"><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all"><!--[if IE 7]><link rel="StyleSheet" href="css/_qs_all_IE7.css" type="text/css" media="all"><![endif]--><link rel="StyleSheet" href="css/print.css" type="text/css" media="print"><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if (window === window.top) {
        // Redirect
        //
        redirect_url = "../index.html#page/quartz-scheduler-webhelp/co-faq_trigger_questions.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');
            redirect_url += '#' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script></head><body id="py2T_002fuBZ11Z1OayTX9Ny61A" class="ww_skin_page_body" onload="Page.OnLoad('../index.html#page/quartz-scheduler-webhelp/co-faq_trigger_questions.html');"><header id="wwconnect_header"><div class="ww_skin_breadcrumbs"><span class="ww_skin_breadcrumbs_parent"><a href="../quartz-scheduler-webhelp/to-faqs.html#wwconnect_header">FAQ</a></span><span class="ww_skin_breadcrumbs_divider"> : </span><span class="ww_skin_breadcrumbs_current">Questions About Triggers</span></div><div class="ww_skin_page_toolbar"></div></header><div id="ww3_18_13_1" class="Heading_1">Questions About Triggers</div><div id="ww3_18_13_3_2_2" class="Section_Title">How do I chain Job execution? Or, how do I create a workflow?</div><div id="ww3_18_13_3_2_4" class="Body">There currently is no direct or free way to chain triggers with Quartz. However, there are several ways you can accomplish it without much effort. Below is an outline of a couple approaches:</div><div id="ww3_18_13_3_2_6" class="Body">One way is to use a listener (a TriggerListener, JobListener or SchedulerListener) that can notice the completion of a job/trigger and then immediately schedule a new trigger to fire. This approach can get a bit involved, since you will have to inform the listener which job follows which. Additionally, you might need to worry about the persistence of this information. See the listener org.quartz.listeners.JobChainingJobListener, which ships with Quartz, as it already has some of this functionality.</div><div id="ww3_18_13_3_2_8" class="Body">Another way is to build a Job that contains within its JobDataMap the name of the next job to fire, and as the job completes (the last step in its execute( ) method), have the job schedule the next job.</div><div id="ww3_18_13_3_2_10" class="Body">Several users are doing this and have had good luck. Most have made a base (abstract) class that is a Job that knows how to get the job name and group out of the JobDataMap using pre-defined keys (constants) and contains code to schedule the identified job. This abstract Job's implementation of execute( ) delegates to an abstract template method such as "doWork( )" (where the extending Job class's real work goes) and then it contains the code for scheduling the follow-up job. Then they simply make extensions of this class that included the work the job should do. The usage of 'durable' jobs, or the overloaded addJob(JobDetail, boolean, boolean) method helps the application define all the jobs at once with their proper data, without creating triggers to fire them (other than one trigger to fire the first job in the chain).</div><div id="ww3_18_13_3_2_12" class="Body">In the future, Quartz will provide a much cleaner way to do this, but until then, you'll have to use one of the above approaches, or perhaps devise another way that works better for you.</div><div id="ww3_18_13_3_4_2" class="Section_Title">Why isn't my trigger firing?</div><div id="ww3_18_13_3_4_4" class="Body">The most common reason for this is not having called Scheduler.start( ), which tells the scheduler to start firing triggers.</div><div id="ww3_18_13_3_4_6" class="Body">The second most common reason is that the trigger or trigger group has been paused.</div><div id="ww3_18_13_3_6_2" class="Section_Title">Daylight Saving Time and Triggers</div><div id="ww3_18_13_3_6_4" class="Body">CronTrigger and SimpleTrigger each handle daylight savings time in their own way.</div><div id="ww3_18_13_3_6_6" class="Body">First, as a review of what daylight savings time is, please read this resource: <span class="external"><a href="https://secure.wikimedia.org/wikipedia/en/wiki/Daylight_saving_time_around_the_world" target="external_window">https://secure.wikimedia.org/wikipedia/en/wiki/Daylight_saving_time_around_the_world</a></span>. Some readers may be unaware that the rules are different for different nations. For example, the 2005 daylight savings time started in the United States on April 3, but in Egypt on April 29. It is also important to know that not only are the starting dates different for different locals, but the time of the shift is different as well. Many places shift at 2:00 am, but others shift time at 1:00 am, others at 3:00 am, and still others right at midnight.</div><div id="ww3_18_13_3_6_8" class="Body">SimpleTrigger allows you to schedule jobs to fire every <span class="varname">n</span> milliseconds. As such, it has to do nothing in particular with respect to daylight savings time in order to "stay on schedule." It simply keeps firing every <span class="varname">n</span> milliseconds. Regardless your SimpleTrigger is firing every 10 seconds, or every 15 minutes, or every hour or every 24 hours it will continue to do so. However the implication of this which confuses some users is that if your SimpleTrigger is firing say every 12 hours, before daylight savings switches it may be firing at what appears to be 3:00 am and 3:00 pm, but after daylight savings 4:00 am and 4:00 pm. This is not actually a bug. The trigger has kept firing exactly every <span class="varname">n</span> milliseconds, it just that the "name" of that time that humans impose on that moment has changed.</div><div id="ww3_18_13_3_6_10" class="Body">CronTrigger allows you to schedule jobs to fire at certain moments with respect to a Gregorian calendar. Hence, if you create a trigger to fire every day at 10:00 am, before and after daylight savings time switches it will continue to do so. However, depending on whether it was the Spring or Autumn daylight savings event, for that particular Sunday, the actual time interval between the firing of the trigger on Sunday morning at 10:00 am since its firing on Saturday morning at 10:00 am will not be 24 hours, but will instead be 23 or 25 hours, respectively.</div><div id="ww3_18_13_3_6_12" class="Body">There is one additional point to understand about CronTrigger with respect to daylight savings. This is that you should think carefully about creating schedules that fire between midnight and 3:00 am (the critical window of time depends on your trigger's locale, as explained above). The reason is that depending on your trigger's schedule, and the particular daylight event, the trigger may be skipped or may appear to not fire for an hour or two. As examples, say you are in the United States, where daylight savings events occur at 2:00 am. If you have a CronTrigger that fires every day at 2:15 am, then on the day of the beginning of daylight savings time the trigger will be skipped, since, 2:15 am never occurs that day. If you have a CronTrigger that fires every 15 minutes of every hour of every day, then on the day daylight savings time ends you will have an hour of time for which no triggerings occur, because when 2:00 am arrives, it will become 1:00 am again, however all of the firings during the one o'clock hour have already occurred, and the trigger's next fire time was set to 2:00 am. Hence, for the next hour, no triggerings will occur.</div><div id="ww3_18_13_3_6_14" class="Body">In summary, all of this makes perfect sense, and should be easy to remember if you keep these two rules in mind:</div><div id="ww3_18_13_3_6_16_2" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span>SimpleTrigger <span class="emphasis">always</span> fires exactly every <span class="varname">n</span> seconds, with no relation to the time of day.</div><div id="ww3_18_13_3_6_16_4" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span>CronTrigger <span class="varname">n</span> fires at a given time of day and then computes its next time to fire. If that time does not occur on a given day, the trigger will be skipped. If the time occurs twice in a given day, it only fires once, because after firing on that time the first time, it computes the next time of day to fire on.</div><div id="ww3_18_13_3_6_18" class="Body">Other trigger types that are based on sliding along a calendar (rather than exact amounts of time), such as CalenderIntervalTrigger, will be similarly affected. However, rather than missing a firing, or firing twice, it might end up having its fire time shifted by an hour.</div><footer><!-- Related Topics --><!--                --><!-- Back to Top --><!--             --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><br></footer><div><div style="font-family: Arial, Verdana, Helvetica, Sans-Serif; font-size: 11px; margin-top: 20px; margin-bottom: 20px;"><span class="xref"><a href="http://documentation.softwareag.com/legal/" target="external_window">Copyright © <span>2010</span><span>-2016</span><span></span><span></span> Software AG, Darmstadt, Germany</a></span>.</div><hr></div><div style="font-family: Arial, Verdana, Helvetica, Sans-Serif; font-size: 13px; font-weight: bold; margin-top: 20px;"><span><img style="vertical-align:middle" src="../connect/quartz_online.png" alt="Product Logo"><!--	     <a href="https://empower.softwareag.com/ContactSupport/default.asp" target="_blank" >Contact&#160;Support</a> --><!--         &#160;&#160;|&#160;&#160;  --><!--         <a href="http://www.softwareag.com/corporate/community/default.asp" target="_blank" >Community</a>  --><!--         &#160;&#160;  -->
          |&nbsp;&nbsp;
        <a href="mailto://documentation@softwareag.com" target="_blank">Feedback&nbsp;&nbsp;</a></span></div></body></html>