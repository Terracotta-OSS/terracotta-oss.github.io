<!DOCTYPE html ><html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8"><meta http-equiv="Content-Style-Type" content="text/css"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>Example 1 - Your First Quartz Program</title><link rel="Prev" href="co-exp_about_the_examples.html" title="Previous"><link rel="Next" href="re-exp_example3.html" title="Next"><link rel="StyleSheet" href="css/_qs_all.css" type="text/css" media="all"><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all"><link rel="StyleSheet" href="css/social.css" type="text/css" media="all"><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all"><!--[if IE 7]><link rel="StyleSheet" href="css/_qs_all_IE7.css" type="text/css" media="all"><![endif]--><link rel="StyleSheet" href="css/print.css" type="text/css" media="print"><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if (window === window.top) {
        // Redirect
        //
        redirect_url = "../index.html#page/quartz-scheduler-webhelp/re-exp_example1.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');
            redirect_url += '#' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script></head><body id="pHNoU_002flJpQxRUkgYvhnDwzw" class="ww_skin_page_body" onload="Page.OnLoad('../index.html#page/quartz-scheduler-webhelp/re-exp_example1.html');"><header id="wwconnect_header"><div class="ww_skin_breadcrumbs"><span class="ww_skin_breadcrumbs_parent"><a href="../quartz-scheduler-webhelp/_qs_all.1.058.html#wwconnect_header">Quartz Scheduler Example Programs and Sample Code</a></span><span class="ww_skin_breadcrumbs_divider"> : </span><span class="ww_skin_breadcrumbs_parent"><a href="../quartz-scheduler-webhelp/to-exp_the_quartz_example_programs.html#wwconnect_header">The Quartz Example Programs</a></span><span class="ww_skin_breadcrumbs_divider"> : </span><span class="ww_skin_breadcrumbs_current">Example 1 - Your First Quartz Program</span></div><div class="ww_skin_page_toolbar"></div></header><div id="ww3_11_3_9_1" class="Heading_2">Example 1 - Your First Quartz Program</div><div id="ww3_11_3_9_3_2_2" class="Body">This example is designed to demonstrate how to get up and running with Quartz. This example will fire off a simple job that says "Hello World."</div><div id="ww3_11_3_9_3_2_4" class="Body">The program will perform the following actions:</div><div id="ww3_11_3_9_3_2_6_2" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span>Start up the Quartz Scheduler</div><div id="ww3_11_3_9_3_2_6_4" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span>Schedule a job to run at the next even minute</div><div id="ww3_11_3_9_3_2_6_6" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span>Wait for 90 seconds to give Quartz a chance to run the job</div><div id="ww3_11_3_9_3_2_6_8" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span>Shut down the scheduler</div><div id="ww3_11_3_9_3_4_2" class="Section_Title">Running the Example</div><div id="ww3_11_3_9_3_4_4" class="Body">This example can be executed from the <span class="filepath">examples/example1</span> directory. There are two ways to run this example</div><div id="ww3_11_3_9_3_4_6_2" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span>example1.sh - A UNIX/Linux shell script</div><div id="ww3_11_3_9_3_4_6_4" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span>example1.bat - A Windows Batch file</div><div id="ww3_11_3_9_3_6_2" class="Section_Title">The Code</div><div id="ww3_11_3_9_3_6_4" class="Body">The code for this example resides in the package org.quartz.examples.example1.</div><div id="ww3_11_3_9_3_6_6" class="Body">The code in this example is made up of the following classes:</div><div class="ww_skin_page_overflow"><table class="NoRules1" summary=""><tr><td class="norules-head" style="padding-bottom: 0px; padding-right: 8px; padding-top: 0px; width: 90pt"><div id="ww3_11_3_9_3_6_8_2_2_6_2_2" class="norules-head">Class Name</div></td><td class="norules-head" style="padding-bottom: 0px; padding-right: 8px; padding-top: 0px; width: 342pt"><div id="ww3_11_3_9_3_6_8_2_2_6_2_4" class="norules-head">Description</div></td></tr><tr><td class="Table_Cell" style="padding-bottom: 0px; padding-right: 8px; padding-top: 0px; vertical-align: top"><div id="ww3_11_3_9_3_6_8_2_2_8_2_2" class="Table_Cell">SimpleExample</div></td><td class="Table_Cell" style="padding-bottom: 0px; padding-right: 8px; padding-top: 0px; vertical-align: top"><div id="ww3_11_3_9_3_6_8_2_2_8_2_4" class="Table_Cell">The main program.</div></td></tr><tr><td class="Table_Cell" style="padding-bottom: 0px; padding-right: 8px; padding-top: 0px; vertical-align: top"><div id="ww3_11_3_9_3_6_8_2_2_8_4_2" class="Table_Cell">HelloJob</div></td><td class="Table_Cell" style="padding-bottom: 0px; padding-right: 8px; padding-top: 0px; vertical-align: top"><div id="ww3_11_3_9_3_6_8_2_2_8_4_4" class="Table_Cell">A simple job that says Hello World.</div></td></tr></table></div><div id="ww3_11_3_9_3_8_2" class="Section_Title">HelloJob</div><div id="ww3_11_3_9_3_8_4" class="Body">HelloJob is a simple job that implements the Job interface and logs a message to the log (by default, this will simply go to the screen). The current date and time is printed in the job so that you can see exactly when the job was execcuted.</div><div id="ww3_11_3_9_3_8_6" class="Preformatted">public void execute(JobExecutionContext context) throws JobExecutionException {   <br>    // Say Hello to the World and display the date/time   <br>    _log.info("Hello World! - " + new Date());   <br>}</div><div id="ww3_11_3_9_3_10_2" class="Section_Title">SimpleExample</div><div id="ww3_11_3_9_3_10_4" class="Body">The program starts by getting an instance of the Scheduler. This is done by creating a StdSchedulerFactory and then using it to create a scheduler. This will create a simple, RAM-based scheduler.</div><div id="ww3_11_3_9_3_10_6" class="Preformatted">SchedulerFactory sf = new StdSchedulerFactory();   <br>Scheduler sched = sf.getScheduler();</div><div id="ww3_11_3_9_3_10_8" class="Body">HelloJob is defined as a job to Quartz using the JobDetail class:</div><div id="ww3_11_3_9_3_10_10" class="Preformatted">// define the job and tie it to our HelloJob class   <br>JobDetail job = newJob(HelloJob.class)   <br>    .withIdentity("job1", "group1")   <br>    .build();</div><div id="ww3_11_3_9_3_10_12" class="Body">We create a SimpleTrigger that will fire off at the next round minute:</div><div id="ww3_11_3_9_3_10_14" class="Preformatted">// compute a time that is on the next round minute   <br>Date runTime = evenMinuteDate(new Date());   <br>// Trigger the job to run on the next round minute   <br>Trigger trigger = newTrigger()   <br>    .withIdentity("trigger1", "group1")   <br>    .startAt(runTime)   <br>    .build();</div><div id="ww3_11_3_9_3_10_16" class="Body">We now will associate the job to the trigger in the scheduler:</div><div id="ww3_11_3_9_3_10_18" class="Preformatted">// Tell quartz to schedule the job using our trigger   <br>sched.scheduleJob(job, trigger);</div><div id="ww3_11_3_9_3_10_20" class="Body">At this point, the job is scheduled to run when its trigger fires. However, the scheduler is not yet running. So, we must tell the scheduler to start up.</div><div id="ww3_11_3_9_3_10_22" class="Preformatted">sched.start();</div><div id="ww3_11_3_9_3_10_24" class="Body">To let the scheduler have an opportunity to run the job, our program sleeps for 90 seconds. The scheduler is running in the background and should fire off the job during those 90 seconds.</div><div id="ww3_11_3_9_3_10_26" class="Preformatted">Thread.sleep(90L * 1000L);</div><div id="ww3_11_3_9_3_10_28" class="Body">Finally, the program gracefully shuts down the scheduler:</div><div id="ww3_11_3_9_3_10_30" class="Preformatted">sched.shutdown(true);</div><div class="ww_skin_page_overflow"><table class="note1" summary=""><tr><td class="Table_Cell" style="padding-right: 6px; vertical-align: top"><div id="ww3_11_3_9_3_10_32_1_3_1_1_1" class="Note"><span style="font-weight: bold">Note:  </span>&nbsp;</div></td><td class="Table_Cell" style="padding-right: 6px; vertical-align: top"><div id="ww3_11_3_9_3_10_32_1_3_1_2" class="Table_Cell">Passing "true" to the shutdown method tells Quartz Scheduler to wait until all jobs have completed running before returning from the method call.</div></td></tr></table></div><footer><!-- Related Topics --><!--                --><!-- Back to Top --><!--             --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><br></footer><div><div style="font-family: Arial, Verdana, Helvetica, Sans-Serif; font-size: 11px; margin-top: 20px; margin-bottom: 20px;"><span class="xref"><a href="http://documentation.softwareag.com/legal/" target="external_window">Copyright © <span>2010</span><span>-2016</span><span></span><span></span> Software AG, Darmstadt, Germany</a></span>.</div><hr></div><div style="font-family: Arial, Verdana, Helvetica, Sans-Serif; font-size: 13px; font-weight: bold; margin-top: 20px;"><span><img style="vertical-align:middle" src="../connect/quartz_online.png" alt="Product Logo"><!--	     <a href="https://empower.softwareag.com/ContactSupport/default.asp" target="_blank" >Contact&#160;Support</a> --><!--         &#160;&#160;|&#160;&#160;  --><!--         <a href="http://www.softwareag.com/corporate/community/default.asp" target="_blank" >Community</a>  --><!--         &#160;&#160;  -->
          |&nbsp;&nbsp;
        <a href="mailto://documentation@softwareag.com" target="_blank">Feedback&nbsp;&nbsp;</a></span></div></body></html>