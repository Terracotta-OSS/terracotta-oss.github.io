<!DOCTYPE html ><html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8"><meta http-equiv="Content-Style-Type" content="text/css"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>Example: Create, Read, Update, Delete</title><link rel="Prev" href="co-samples_programmatiac_config.html" title="Previous"><link rel="Next" href="co-samples_search.html" title="Next"><link rel="StyleSheet" href="css/aaa_bigmem_go_all.css" type="text/css" media="all"><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all"><link rel="StyleSheet" href="css/social.css" type="text/css" media="all"><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all"><!--[if IE 7]><link rel="StyleSheet" href="css/aaa_bigmem_go_all_IE7.css" type="text/css" media="all"><![endif]--><link rel="StyleSheet" href="css/print.css" type="text/css" media="print"><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if (window === window.top) {
        // Redirect
        //
        redirect_url = "../index.html#page/bigmemory-go-webhelp/co-samples_crud.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');
            redirect_url += '#' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script></head><body id="pN_002bYi8PrUyT7Ksyb_002bb3ABEEQ" class="ww_skin_page_body" onload="Page.OnLoad('../index.html#page/bigmemory-go-webhelp/co-samples_crud.html');"><header id="wwconnect_header"><div class="ww_skin_breadcrumbs"><span class="ww_skin_breadcrumbs_parent"><a href="../bigmemory-go-webhelp/to-title_bigmemory_go_code_samples.html#wwconnect_header">Code Samples</a></span><span class="ww_skin_breadcrumbs_divider"> : </span><span class="ww_skin_breadcrumbs_current">Example: Create, Read, Update, Delete</span></div><div class="ww_skin_page_toolbar"></div></header><div id="ww3_13_12_1" class="Heading_1">Example: Create, Read, Update, Delete</div><div class="ww_skin_page_overflow"><table class="note1" summary=""><tr><td class="Table_Cell" style="padding-right: 6px; vertical-align: top"><div id="ww3_13_12_3_2_1_3_1_1_1" class="Note"><span style="font-weight: bold">Note:  </span>&nbsp;</div></td><td class="Table_Cell" style="padding-right: 6px; vertical-align: top"><div id="ww3_13_12_3_2_1_3_1_2" class="Table_Cell">The following description focuses on code snippets from the full code example, which is available at the /code-samples/src/ location in the installed product kit.</div></td></tr></table></div><div id="ww3_13_12_3_4" class="Body">The Create, Read, Update, and Delete (CRUD) example demonstrates basic create, read, update and delete operations.</div><div id="ww3_13_12_3_6_2" class="Body">The following example creates a data store that is configured to use 512 MB of heap memory and 32 GB of off-heap memory:</div><div id="ww3_13_12_3_6_4" class="Preformatted">Configuration managerConfiguration = new Configuration(); <br>managerConfiguration.updateCheck(true)  <br>&nbsp;&nbsp;&nbsp;.monitoring(Configuration.Monitoring.AUTODETECT) <br>&nbsp;&nbsp;&nbsp;.name("config")    <br>&nbsp;&nbsp;&nbsp;.cache(new CacheConfiguration() <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.name("BigMemory-Crud")        <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.maxBytesLocalHeap(512, MemoryUnit.MEGABYTES)        <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.maxBytesLocalOffHeap(32, MemoryUnit.GIGABYTES)    ); <br> <br>CacheManager manager = CacheManager.create(managerConfiguration); <br>Cache bigMemory = manager.getCache("BigMemory-Crud");</div><div id="ww3_13_12_3_6_6" class="Body">This instructs the Automatic Resource Control (ARC) capability of BigMemory to keep a maximum of 512 MB of its data in heap for nanosecond to microsecond access. In this example, as the 512 MB of heap memory fills up, ARC will automatically move data to the 32 GB off-heap store where it is available at microsecond speed. This configuration keeps heap sizes small to avoid garbage collection pauses and tuning, but still uses large amounts of in-process memory for ultra-fast access to data.</div><div class="ww_skin_page_overflow"><table class="note1" summary=""><tr><td class="Table_Cell" style="padding-right: 6px; vertical-align: top"><div id="ww3_13_12_3_6_8_1_3_1_1_1" class="important"><span style="font-weight: bold">Important:  </span>&nbsp;</div></td><td class="Table_Cell" style="padding-right: 6px; vertical-align: top"><div id="ww3_13_12_3_6_8_1_3_1_2" class="Table_Cell">BigMemory Go is capable of addressing gigabytes to terabytes of in-memory data in a single JVM and it's free to use up to 32 GB. However, to avoid swapping, take care not to configure BigMemory Go to use more memory than is physically available on your hardware.</div></td></tr></table></div><div id="ww3_13_12_3_8_2" class="Body">Now that you have a BigMemory instance configured and available, you can start creating data in it:</div><div id="ww3_13_12_3_8_4" class="Preformatted">final Person timDoe = new Person("Tim Doe", 35, Person.Gender.MALE, <br>    "eck street", "San Mateo", "CA"); <br>bigMemory.put(new Element("1", timDoe));</div><div id="ww3_13_12_3_8_6" class="Body">Then, you can read data from it:</div><div id="ww3_13_12_3_8_8" class="Preformatted">final Element element = bigMemory.get("1"); <br>System.out.println("The value for key 1 is  " + element.getObjectValue());</div><div id="ww3_13_12_3_8_10" class="Body">And update it:</div><div id="ww3_13_12_3_8_12" class="Preformatted">final Person pamelaJones = new Person("Pamela Jones", 23, Person.Gender.FEMALE, <br>    "berry st", "Parsippany", "LA"); <br>bigMemory.put(new Element("1", pamelaJones)); <br>final Element updated = bigMemory.get("1"); <br>System.out.println("The value for key 1 is now " + updated.getObjectValue() + <br>                     ". key 1 has been updated.");</div><div id="ww3_13_12_3_8_14" class="Body">And delete it:</div><div id="ww3_13_12_3_8_16" class="Preformatted">bigMemory.remove("1"); <br>System.out.println("Try to retrieve key 1."); <br>final Element removed = bigMemory.get("1"); <br>System.out.println("Value for key 1 is " + removed + <br>                   ". Key 1 has been deleted.");</div><div id="ww3_13_12_3_8_18" class="Body">You can also create or update multiple entries at once:</div><div id="ww3_13_12_3_8_20" class="Preformatted">Collection&lt;Element&gt; elements = new ArrayList&lt;Element&gt;(); <br>elements.add(new Element("1", new Person("Jane Doe", 35, <br>    Person.Gender.FEMALE, "eck street", "San Mateo", "CA"))); <br>elements.add(new Element("2", new Person("Marie Antoinette", 23, <br>    Person.Gender.FEMALE, "berry st", "Parsippany", "LA"))); <br>elements.add(new Element("3", new Person("John Smith", 25, <br>    Person.Gender.MALE, "big wig", "Beverly Hills", "NJ"))); <br>elements.add(new Element("4", new Person("Paul Dupont", 25, <br>    Person.Gender.MALE, "big wig", "Beverly Hills", "NJ"))); <br>elements.add(new Element("5", new Person("Juliet Capulet", 25, <br>    Person.Gender.FEMALE, "big wig", "Beverly Hills", "NJ"))); <br>bigMemory.putAll(elements);</div><div id="ww3_13_12_3_8_22" class="Body">And read multiple entries at once:</div><div id="ww3_13_12_3_8_24" class="Preformatted">final Map&lt;Object, Element&gt; elementsMap = bigMemory.getAll( <br>    Arrays.asList("1", "2", "3"));</div><div id="ww3_13_12_3_8_26" class="Body">And delete multiple entries at once:</div><div id="ww3_13_12_3_8_28" class="Preformatted">bigMemory.removeAll(Arrays.asList("1", "2", "3"));</div><div id="ww3_13_12_3_8_30" class="Body">And delete everything at once:</div><div id="ww3_13_12_3_8_32" class="Preformatted">bigMemory.removeAll();</div><footer><!-- Related Topics --><!--                --><!-- Back to Top --><!--             --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><br></footer><div><div style="font-family: Arial, Verdana, Helvetica, Sans-Serif; font-size: 11px; margin-top: 20px; margin-bottom: 20px;"><span class="xref"><a href="http://documentation.softwareag.com/legal/" target="external_window">Copyright Â© <span>2010</span><span>-2016</span><span></span><span></span> Software AG, Darmstadt, Germany</a></span>.</div><hr></div><div style="font-family: Arial, Verdana, Helvetica, Sans-Serif; font-size: 13px; font-weight: bold; margin-top: 20px;"><span><img style="vertical-align:middle" src="../connect/terracotta_online.png" alt="Product Logo"><a href="https://empower.softwareag.com/ContactSupport/default.asp" target="_blank">Contact&nbsp;Support</a>
         &nbsp;&nbsp;|&nbsp;&nbsp;
       <a href="http://www.softwareag.com/corporate/community/default.asp" target="_blank">Community</a>
         &nbsp;&nbsp;|&nbsp;&nbsp;
       <a href="mailto://documentation@softwareag.com" target="_blank">Feedback&nbsp;&nbsp;</a></span></div></body></html>