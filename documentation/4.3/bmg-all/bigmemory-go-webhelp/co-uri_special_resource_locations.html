<!DOCTYPE html ><html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8"><meta http-equiv="Content-Style-Type" content="text/css"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>Special Resource Locations</title><link rel="Prev" href="co-uri_security_for_api_without_tmc.html" title="Previous"><link rel="Next" href="to-oper_specifications_for_http_operations.html" title="Next"><link rel="StyleSheet" href="css/aaa_bigmem_go_all.css" type="text/css" media="all"><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all"><link rel="StyleSheet" href="css/social.css" type="text/css" media="all"><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all"><!--[if IE 7]><link rel="StyleSheet" href="css/aaa_bigmem_go_all_IE7.css" type="text/css" media="all"><![endif]--><link rel="StyleSheet" href="css/print.css" type="text/css" media="print"><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if (window === window.top) {
        // Redirect
        //
        redirect_url = "../index.html#page/bigmemory-go-webhelp/co-uri_special_resource_locations.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');
            redirect_url += '#' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script></head><body id="pAUOZYi5oM8h6YiVWCrAhdQ" class="ww_skin_page_body" onload="Page.OnLoad('../index.html#page/bigmemory-go-webhelp/co-uri_special_resource_locations.html');"><header id="wwconnect_header"><div class="ww_skin_breadcrumbs"><span class="ww_skin_breadcrumbs_parent"><a href="../bigmemory-go-webhelp/to-title_product_documentation.html#wwconnect_header">Product Documentation</a></span><span class="ww_skin_breadcrumbs_divider"> : </span><span class="ww_skin_breadcrumbs_parent"><a href="../bigmemory-go-webhelp/to-title_terracotta_rest_developer_guide.html#wwconnect_header">Terracotta REST Developer Guide</a></span><span class="ww_skin_breadcrumbs_divider"> : </span><span class="ww_skin_breadcrumbs_parent"><a href="../bigmemory-go-webhelp/to-uri_constructing_uris_for_http_operations.html#wwconnect_header">Constructing URIs for HTTP Operations</a></span><span class="ww_skin_breadcrumbs_divider"> : </span><span class="ww_skin_breadcrumbs_current">Special Resource Locations</span></div><div class="ww_skin_page_toolbar"></div></header><div id="ww3_15_16_9_10_1" class="Heading_3">Special Resource Locations</div><div id="ww3_15_16_9_10_3_2" class="Body">Certain resource locations provide specific monitoring and administration services.</div><div id="ww3_15_16_9_10_3_4_2" class="Section_Title">Discovery</div><div id="ww3_15_16_9_10_3_4_4" class="Body">A "discovery" URI format uses the path <span class="codeph">/agents/info</span>. Used with a Terracotta Management Server (TMS), this URI returns metadata on all agents known (through configuration) to that TMS. Used with an embedded web service, metadata on that agent is returned (or a 404 if that agent is not reachable). For more information about discovery URIs, refer to the examples provided in <span class="heading-page"><a href="../bigmemory-go-webhelp/co-oper_examples_of_uris_3.html#ww3_15_16_11_8_6_4_4_2" title="GET and HEAD">Discover All Known Agents</a></span>.</div><div id="ww3_15_16_9_10_3_6_2" class="Section_Title">Viewing Configuration</div><div id="ww3_15_16_9_10_3_6_4" class="Body">A URI format for viewing the configuration of CacheManagers and caches uses the path <span class="filepath">agents/cacheManagers</span> or <span class="filepath">agents/cacheManagers/caches</span>. Agents, cacheManagers, and caches can be specified using IDs and names. The data is returned in its native XML format.</div><div id="ww3_15_16_9_10_3_6_6" class="Body">To get the configuration of one or more CacheManagers, use the following format:</div><div id="ww3_15_16_9_10_3_6_8" class="Preformatted">/agents[;ids={comma_sep_agent_ids}]/cacheManagers[;names={ <br>comma_sep_cache_manager_names}]/configs</div><div class="ww_skin_page_overflow"><table class="note1" summary=""><tr><td class="Table_Cell" style="padding-right: 6px; vertical-align: top"><div id="ww3_15_16_9_10_3_6_10_1_3_1_1_1" class="Note"><span style="font-weight: bold">Note:  </span>&nbsp;</div></td><td class="Table_Cell" style="padding-right: 6px; vertical-align: top"><div id="ww3_15_16_9_10_3_6_10_1_3_1_2" class="Table_Cell">If no client IDs are specified in the request, all of the clients' cacheManagers are returned. However, if no client IDs are specified in the request and the number of clients is more than the default maximum of 64, an error is returned in the JSON response. The JVM argument <span class="parmname">com.terracotta.agent.defaultMaxClientsToDisplay</span> can be used to change the maximum number of clients to display.</div></td></tr></table></div><div id="ww3_15_16_9_10_3_6_12" class="Body">To get the configuration of one or more caches, use the following format:</div><div id="ww3_15_16_9_10_3_6_14" class="Preformatted">/agents[;ids={comma_sep_agent_ids}]/cacheManagers[;names={ <br>comma_sep_cache_manager_names}]/caches[;names={comma_sep_cache_names}/configs</div><div id="ww3_15_16_9_10_3_8_2" class="Section_Title">Setting Configuration</div><div id="ww3_15_16_9_10_3_8_4" class="Body">Cache resource locations can also be specified for setting specific cache-configuration attributes using resource representations. The following is a comprehensive list of the attributes that can be set:</div><div id="ww3_15_16_9_10_3_8_6_2_3" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span>enabled – A boolean for enabling (true, DEFAULT) or disabling (false) cache operations. For example, to disable a cache's operation: PUT {"enabled":true}.</div><div id="ww3_15_16_9_10_3_8_6_4_3" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span>statsEnabled – A boolean for enabling (true) or disabling (false, DEFAULT) the gathering of cache statistics.</div><div id="ww3_15_16_9_10_3_8_6_6_3" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span>sampledStatsEnabled – A boolean for enabling (true) or disabling (false, DEFAULT) the sampling of cache statistics.</div><div id="ww3_15_16_9_10_3_10_2" class="Section_Title">Probing a New Connection URI</div><div id="ww3_15_16_9_10_3_10_4" class="Body">To probe the existence of an agent at a given location, use an URL with the following format:</div><div id="ww3_15_16_9_10_3_10_6" class="Preformatted">    http://127.0.0.1:9889/tmc/api/agents/probeUrl/$urlToProbe</div><div id="ww3_15_16_9_10_3_10_8" class="Body">For example, the following should return information about the REST agent running at the given address (localhost:4343):</div><div id="ww3_15_16_9_10_3_10_10" class="Preformatted">http://127.0.0.1:9889/tmc/api/agents/probeUrl <br>&nbsp;&nbsp;&nbsp;/http%253A%252F%252Flocalhost%253A4343</div><div id="ww3_15_16_9_10_3_10_12" class="Body">If the agent is available, a (status code 200 AgentMetadataEntity) response similar to the following is returned:</div><div id="ww3_15_16_9_10_3_10_14" class="Preformatted">    {"agentId":"embedded","agencyOf":"Ehcache","available":true,"secured":false, <br>"sslEnabled":false,"needClientAuth":false,"licensed":false,"sampleHistorySize" <br>:8640,"sampleIntervalSeconds":10,"enabled":false,"restAPIVersion":"2.7.0"}</div><div id="ww3_15_16_9_10_3_10_16" class="Body">If not available, the status code should be "204 No Content".</div><div id="ww3_15_16_9_10_3_12_2" class="Section_Title">Getting the authentication status</div><div id="ww3_15_16_9_10_3_12_4" class="Body">The authentication status is saved in the properties file <span class="codeph">${user.home}/.tc/mgmt/settings.ini</span>. There is a REST resource to view the status (authentication on or off).</div><div id="ww3_15_16_9_10_3_12_6" class="Body">To GET the authentication status, use the following URI:</div><div id="ww3_15_16_9_10_3_12_8" class="Preformatted">http://localhost:9889/tmc/api/config/settings/authentication</div><div id="ww3_15_16_9_10_3_12_10" class="Body">Either "true" or "false" is returned.</div><div id="ww3_15_16_9_10_3_12_12" class="Body">Note that to change the authentication status or settings, you must do it through the Terracotta Management Console.</div><footer><!-- Related Topics --><!--                --><!-- Back to Top --><!--             --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><br></footer><div><div style="font-family: Arial, Verdana, Helvetica, Sans-Serif; font-size: 11px; margin-top: 20px; margin-bottom: 20px;"><span class="xref"><a href="http://documentation.softwareag.com/legal/" target="external_window">Copyright © <span>2010</span><span>-2016</span><span></span><span></span> Software AG, Darmstadt, Germany</a></span>.</div><hr></div><div style="font-family: Arial, Verdana, Helvetica, Sans-Serif; font-size: 13px; font-weight: bold; margin-top: 20px;"><span><img style="vertical-align:middle" src="../connect/terracotta_online.png" alt="Product Logo"><a href="https://empower.softwareag.com/ContactSupport/default.asp" target="_blank">Contact&nbsp;Support</a>
         &nbsp;&nbsp;|&nbsp;&nbsp;
       <a href="http://www.softwareag.com/corporate/community/default.asp" target="_blank">Community</a>
         &nbsp;&nbsp;|&nbsp;&nbsp;
       <a href="mailto://documentation@softwareag.com" target="_blank">Feedback&nbsp;&nbsp;</a></span></div></body></html>