<!DOCTYPE html ><html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8"><meta http-equiv="Content-Style-Type" content="text/css"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>Data Persistence Implementation</title><link rel="Prev" href="co-fast_about_fast_restart.html" title="Previous"><link rel="Next" href="co-fast_config_examples.html" title="Next"><link rel="StyleSheet" href="css/aaa_bigmem_go_all.css" type="text/css" media="all"><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all"><link rel="StyleSheet" href="css/social.css" type="text/css" media="all"><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all"><!--[if IE 7]><link rel="StyleSheet" href="css/aaa_bigmem_go_all_IE7.css" type="text/css" media="all"><![endif]--><link rel="StyleSheet" href="css/print.css" type="text/css" media="print"><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if (window === window.top) {
        // Redirect
        //
        redirect_url = "../index.html#page/bigmemory-go-webhelp/co-fast_data_persistence_implementation.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');
            redirect_url += '#' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script></head><body id="pFgmg2gprIGnSVmlhldQT8w" class="ww_skin_page_body" onload="Page.OnLoad('../index.html#page/bigmemory-go-webhelp/co-fast_data_persistence_implementation.html');"><header id="wwconnect_header"><div class="ww_skin_breadcrumbs"><span class="ww_skin_breadcrumbs_parent"><a href="../bigmemory-go-webhelp/to-title_product_documentation.html#wwconnect_header">Product Documentation</a></span><span class="ww_skin_breadcrumbs_divider"> : </span><span class="ww_skin_breadcrumbs_parent"><a href="../bigmemory-go-webhelp/to-title_bigmemory_go_config_guide.html#wwconnect_header">BigMemory Go Configuration Guide</a></span><span class="ww_skin_breadcrumbs_divider"> : </span><span class="ww_skin_breadcrumbs_parent"><a href="../bigmemory-go-webhelp/to-fast_configuring_fast_restart.html#wwconnect_header">Configuring Fast Restart (FRS)</a></span><span class="ww_skin_breadcrumbs_divider"> : </span><span class="ww_skin_breadcrumbs_current">Data Persistence Implementation</span></div><div class="ww_skin_page_toolbar"></div></header><div id="ww3_15_10_15_8_1" class="Heading_3">Data Persistence Implementation</div><div id="ww3_15_10_15_8_3_2" class="Body"> The BigMemory Fast Restart feature works by creating a real-time record of the in-memory data, which it persists in a Fast Restart store on the local disk. After any restart, the data that was last in memory (both heap and off-heap stores) automatically loads from the Fast Restart store back into memory.</div><div id="ww3_15_10_15_8_3_4" class="Body">Data persistence is configured by adding the <span class="parmname">&lt;persistence&gt;</span> sub-element to a cache configuration. The <span class="parmname">&lt;persistence&gt;</span> sub-element includes two attributes: <span class="parmname">strategy</span> and <span class="parmname">synchronousWrites</span>.</div><div id="ww3_15_10_15_8_3_6_2" class="Section_Title">Strategy Options</div><div id="ww3_15_10_15_8_3_6_4" class="Body">The options for the <span class="parmname">strategy</span> attribute are:</div><div id="ww3_15_10_15_8_3_6_6_2_3" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span><span class="codeph">"localRestartable"</span> — Enables the Fast Restart feature which automatically logs all BigMemory data. This option provides fast restartability with fault-tolerant data persistence.</div><div id="ww3_15_10_15_8_3_6_6_4_3" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span><span class="codeph">"localTempSwap"</span> — Enables temporary local disk usage. This option provides an extra tier for data storage during operation, but this store is not persisted. After a restart, the disk is cleared of any BigMemory data.</div><div id="ww3_15_10_15_8_3_6_6_6_3" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span><span class="codeph">"none"</span> — Does not offload data to disk. With this option, all of the working data is kept in memory only. This is the default mode.</div><div id="ww3_15_10_15_8_3_8_2" class="Section_Title">Synchronous Writes Options</div><div id="ww3_15_10_15_8_3_8_4" class="Body">If the <span class="parmname">strategy</span> attribute is set to "localRestartable", then the <span class="parmname">synchronousWrites</span> attribute can be configured. The options for <span class="parmname">synchronousWrites</span> are:</div><div id="ww3_15_10_15_8_3_8_6_2_3" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span><span class="inlinetitle">synchronousWrites="false"</span> — This option specifies that an eventually consistent record of the data is kept on disk at all times. Writes to disk happen when efficient, and cache operations proceed without waiting for acknowledgement of writing to disk. After a restart, the data is recovered as it was when last synced. This option is faster than <span class="codeph">synchronousWrites="true"</span>, but after a crash, the last 2-3 seconds of written data may be lost.</div><div id="ww3_15_10_15_8_3_8_6_2_5" class="List_1_Continued">If not specified, the default for <span class="codeph">synchronousWrites</span> is "false".</div><div id="ww3_15_10_15_8_3_8_6_4_3" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span><span class="inlinetitle">synchronousWrites="true"</span> — This option specifies that a fully consistent record of the data is kept on disk at all times. As changes are made to the data set, they are synchronously recorded on disk. The write to disk happens before a return to the caller. After a restart, the data is recovered exactly as it was before shutdown. This option is slower than <span class="parmname">synchronousWrites="false"</span>, but after a crash, it provides full data consistency.</div><div id="ww3_15_10_15_8_3_8_8" class="Body">For transaction caching with <span class="codeph">synchronousWrites</span>, soft locks are used to protect access. If there is a crash in the middle of a transaction, then upon recovery the soft locks are cleared on next access.</div><div id="ww3_15_10_15_8_3_10_2" class="Section_Title">DiskStore Path</div><div id="ww3_15_10_15_8_3_10_4" class="Body">The path to the directory where any required disk files will be created is configured with the <span class="parmname">&lt;diskStore&gt;</span> sub-element of the Ehcache configuration.</div><div id="ww3_15_10_15_8_3_10_6_2_3" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span>For "localRestartable", a unique and explicitly specified path is required.</div><div id="ww3_15_10_15_8_3_10_6_4_3" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span>For "localTempSwap", if the disk store path is not specified, a default path is used for the disk tier, and the default path will be auto-resolved in the case of a conflict with another CacheManager.</div><div class="ww_skin_page_overflow"><table class="note1" summary=""><tr><td class="Table_Cell" style="padding-right: 6px; vertical-align: top"><div id="ww3_15_10_15_8_3_10_8_1_3_1_1_1" class="Note"><span style="font-weight: bold">Note:  </span>&nbsp;</div></td><td class="Table_Cell" style="padding-right: 6px; vertical-align: top"><div id="ww3_15_10_15_8_3_10_8_1_3_1_2" class="Table_Cell">The Fast Restart feature does not use the disk tier in the same way that conventional disk persistence does. Therefore, when configured for "localRestartable," disk store size measures such as Cache.getDiskStoreSize() or Cache.calculateOnDiskSize() are not applicable and will return zero. On the other hand, when configured for "localTempSwap", these measures will return size values.</div></td></tr></table></div><footer><!-- Related Topics --><!--                --><!-- Back to Top --><!--             --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><br></footer><div><div style="font-family: Arial, Verdana, Helvetica, Sans-Serif; font-size: 11px; margin-top: 20px; margin-bottom: 20px;"><span class="xref"><a href="http://documentation.softwareag.com/legal/" target="external_window">Copyright © <span>2010</span><span>-2016</span><span></span><span></span> Software AG, Darmstadt, Germany</a></span>.</div><hr></div><div style="font-family: Arial, Verdana, Helvetica, Sans-Serif; font-size: 13px; font-weight: bold; margin-top: 20px;"><span><img style="vertical-align:middle" src="../connect/terracotta_online.png" alt="Product Logo"><a href="https://empower.softwareag.com/ContactSupport/default.asp" target="_blank">Contact&nbsp;Support</a>
         &nbsp;&nbsp;|&nbsp;&nbsp;
       <a href="http://www.softwareag.com/corporate/community/default.asp" target="_blank">Community</a>
         &nbsp;&nbsp;|&nbsp;&nbsp;
       <a href="mailto://documentation@softwareag.com" target="_blank">Feedback&nbsp;&nbsp;</a></span></div></body></html>