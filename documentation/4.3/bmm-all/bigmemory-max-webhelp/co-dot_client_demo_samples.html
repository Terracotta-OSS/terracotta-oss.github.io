<!DOCTYPE html ><html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8"><meta http-equiv="Content-Style-Type" content="text/css"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>.NET Client Demo Samples</title><link rel="Prev" href="co-dot_client_serialization.html" title="Previous"><link rel="Next" href="to-cpp_clients.html" title="Next"><link rel="StyleSheet" href="css/aaa_bigmem_max_all.css" type="text/css" media="all"><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all"><link rel="StyleSheet" href="css/social.css" type="text/css" media="all"><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all"><!--[if IE 7]><link rel="StyleSheet" href="css/aaa_bigmem_max_all_IE7.css" type="text/css" media="all"><![endif]--><link rel="StyleSheet" href="css/print.css" type="text/css" media="print"><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if (window === window.top) {
        // Redirect
        //
        redirect_url = "../index.html#page/bigmemory-max-webhelp/co-dot_client_demo_samples.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');
            redirect_url += '#' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script></head><body id="pN9RZDofRhMmhd1Bn5pEuycQ" class="ww_skin_page_body" onload="Page.OnLoad('../index.html#page/bigmemory-max-webhelp/co-dot_client_demo_samples.html');"><header id="wwconnect_header"><div class="ww_skin_breadcrumbs"><span class="ww_skin_breadcrumbs_parent"><a href="../bigmemory-max-webhelp/to-title_component_documentation.html#wwconnect_header">Component Documentation</a></span><span class="ww_skin_breadcrumbs_divider"> : </span><span class="ww_skin_breadcrumbs_parent"><a href="../bigmemory-max-webhelp/to-title_ccl_user_guide.html#wwconnect_header">Cross-Language Clients User Guide</a></span><span class="ww_skin_breadcrumbs_divider"> : </span><span class="ww_skin_breadcrumbs_parent"><a href="../bigmemory-max-webhelp/to-dot_dot_net_clients.html#wwconnect_header">BigMemory .NET Client</a></span><span class="ww_skin_breadcrumbs_divider"> : </span><span class="ww_skin_breadcrumbs_current">.NET Client Demo Samples</span></div><div class="ww_skin_page_toolbar"></div></header><div id="ww3_21_12_9_20_1" class="Heading_3">.NET Client Demo Samples</div><div id="ww3_21_12_9_20_3_2_2" class="Body">The following examples are provided in the <span class="filepath">code-samples/</span> directory in the kit.</div><div id="ww3_21_12_9_20_3_4_2" class="Section_Title">BSON - C# Example</div><div id="ww3_21_12_9_20_3_4_4" class="Body">The BSON - C# example consists of three files:</div><div id="ww3_21_12_9_20_3_4_6_2" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span><span class="filepath">Recipe2.cs</span> is the C# implementation of the recipe domain class. It includes classes for the Recipe2 class itself, plus support classes for things like Ingredient, MethodItem, etc., which are used by the Recipe2 class. In this class, some of the domain attributes have been annotated for the BSON serializer. It is not necessary to annotate in the domain. However, if you do not, then you will have to add some extra code to your serializer class.</div><div id="ww3_21_12_9_20_3_4_6_4" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span><span class="filepath">Recipe2BsonSerializer.cs</span> implements the <span class="apiname">CacheSerializer&lt;string, Recipe2&gt;</span> interface. It is responsible for serializing and deserializing keys and values, moving between the Recipe2 domain object and the Thrift types Value and StoredValue. Serialization and deserialization of the Recipe2 objects is handled through the Json.net automatic BSON serializer.</div><div id="ww3_21_12_9_20_3_4_6_6" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span><span class="filepath">Recipe2ConsoleApp.cs</span> contains a main class, and tiny repository of pre-generated recipes. The console app understands get and put. Assuming you start a CL Connector on the same machine, you may do:</div><div id="ww3_21_12_9_20_3_4_6_6_4_2" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span>Recipe2ConsoleApp put "Mac&amp;Cheese"</div><div id="ww3_21_12_9_20_3_4_6_6_4_4" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span>Recipe2ConsoleApp put "BreadedChicken"</div><div id="ww3_21_12_9_20_3_4_6_6_4_6" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span>Recipe2ConsoleApp get "Mac&amp;Cheese"</div><div id="ww3_21_12_9_20_3_4_6_6_4_8" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span>Recipe2ConsoleApp get "BreadedChicken" where ("Mac&amp;Cheese" and "BreadedChicken" are the two preloaded recipes).</div><div id="ww3_21_12_9_20_3_4_8" class="Body">To run the BSON - C# example:</div><div id="ww3_21_12_9_20_3_4_10_2" class="Numbered_1"><span class="WebWorks_Number" style="width: 18pt"><span>1. </span></span>Create a new Visual Studio project and add the three .CS recipe files.</div><div id="ww3_21_12_9_20_3_4_10_4" class="Numbered_1"><span class="WebWorks_Number" style="width: 18pt"><span>2. </span></span>Add the following libraries in the References section of your project:</div><div id="ww3_21_12_9_20_3_4_10_4_3_2" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span><span class="filepath">bigmemory_csharp.dll</span> (included in the kit)</div><div id="ww3_21_12_9_20_3_4_10_4_3_4" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span><span class="filepath">Thrift.dll</span> (included in the kit)</div><div id="ww3_21_12_9_20_3_4_10_4_3_6" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span><span class="filepath">Nirvana DotNet.dll</span> (included in the kit)</div><div id="ww3_21_12_9_20_3_4_10_4_3_8" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span><span class="filepath">Newtonsoft.json.dll</span> (available from http://json.codeplex.com/)</div><div id="ww3_21_12_9_20_3_4_10_6" class="Numbered_1"><span class="WebWorks_Number" style="width: 18pt"><span>3. </span></span>Start the server as described in <span class="xref"><a href="../bigmemory-max-webhelp/co-dot_installing_the_client.html#wwconnect_header" title="Installing and Configuring the .NET Client">Installing and Configuring the .NET Client </a></span>, in the step "Start the CL Connector", and then run the console application (<span class="filepath">Recipe2ConsoleApp.cs</span>).</div><div id="ww3_21_12_9_20_3_6_2" class="Section_Title">Protocol Buffer - C# Example</div><div id="ww3_21_12_9_20_3_6_4" class="Body">The Protocol Buffer - C# example consists of the following files:</div><div id="ww3_21_12_9_20_3_6_6_2_2" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span>recipe.cs is the C# implementation of the recipe domain class. This was automatically generated and has the annotation included in the domain.</div><div id="ww3_21_12_9_20_3_6_6_2_4" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span>RecipeSerializer.cs implements the CacheSerializer interface. Serialization and deserialization of the recipe object is handled by the Google Protocol Buffer serializer.</div><div id="ww3_21_12_9_20_3_6_6_2_6" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span>SimpleRecipeConsoleApp.cs contains the main class and does simple get and put.</div><div id="ww3_21_12_9_20_3_6_8" class="Body">The example is a recipe package that includes ingredients, measurements, and instructions.</div><div id="ww3_21_12_9_20_3_6_10" class="Preformatted">package RecipeProject;<br> <br>message RecipeStructure {<br>              required string name = 1;<br>              required string description = 2;<br>              required int32 preparation_time = 3;<br>              required Method method = 6;<br>              required Ingredients ingredients = 5;<br>              optional int32 baking_time = 4;<br>              optional ServingInstructions instructions = 7;<br>}<br> <br>message Ingredients {<br>              repeated Ingredient ingredient = 1;<br>}<br> <br>message Ingredient {<br>              required float quantity = 1;<br>              required Measurement measurement = 2;<br>              required IngredientDescription ingredient = 3;  <br>}<br> <br>message Measurement {<br>              required string measurement_type = 1;<br>}<br> <br>message IngredientDescription {<br>              required string ingredient = 1;<br>              optional Ingredient alternative_ingredient = 2;<br>}<br> <br>message Method {<br>              repeated MethodItem items = 1;<br>}<br> <br>message MethodItem {<br>              required int32 step_number = 1;<br>              required string instruction = 2; <br>}<br> <br>message ServingInstructions {<br>              required int32 servings = 1;<br>              required Measurement serving_measurement = 2;<br>              optional Method method = 3;<br>}</div><div id="ww3_21_12_9_20_3_6_12" class="Body">To run the Protocol Buffer - C# example:</div><div id="ww3_21_12_9_20_3_6_14_2" class="Numbered_1"><span class="WebWorks_Number" style="width: 18pt"><span>1. </span></span>Create a new Visual Studio project and add the three .CS recipe files.</div><div id="ww3_21_12_9_20_3_6_14_4" class="Numbered_1"><span class="WebWorks_Number" style="width: 18pt"><span>2. </span></span>Add the following libraries in the References section of your project:</div><div id="ww3_21_12_9_20_3_6_14_4_3_2" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span>bigmemory_csharp.dll (included in the kit)</div><div id="ww3_21_12_9_20_3_6_14_4_3_4" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span>Thrift.dll (included in the kit)</div><div id="ww3_21_12_9_20_3_6_14_4_3_6" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span>Nirvana DotNet.dll (included in the kit)</div><div id="ww3_21_12_9_20_3_6_14_4_3_8" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span>protobuf-net.dll (available from http://code.google.com/p/protobuf-net/)</div><div id="ww3_21_12_9_20_3_6_14_6" class="Numbered_1"><span class="WebWorks_Number" style="width: 18pt"><span>3. </span></span>Start the server as described in <span class="xref"><a href="../bigmemory-max-webhelp/co-dot_installing_the_client.html#wwconnect_header" title="Installing and Configuring the .NET Client">Installing and Configuring the .NET Client </a></span>, in the step "Start the CL Connector", and then run the console application (<span class="filepath">SimpleRecipeConsoleApp.cs</span>).</div><div class="ww_skin_page_overflow"><table class="note1" summary=""><tr><td class="Table_Cell" style="padding-right: 6px; vertical-align: top"><div id="ww3_21_12_9_20_3_6_16_1_3_1_1_1" class="Note"><span style="font-weight: bold">Note:  </span>&nbsp;</div></td><td class="Table_Cell" style="padding-right: 6px; vertical-align: top"><div id="ww3_21_12_9_20_3_6_16_1_3_1_2" class="Table_Cell">If you have already installed the BigMemory Client and Cross-Language Connector, you can run this example by adding the external protobuf dependency. The maven link is</div></td></tr></table></div><div id="ww3_21_12_9_20_3_6_18" class="Preformatted">&lt;dependency&gt;<br>         &lt;groupId&gt;com.google.protobuf&lt;/groupId&gt;<br>         &lt;artifactId&gt;protobuf-java&lt;/artifactId&gt;<br>         &lt;version&gt;2.5.0&lt;/version&gt;<br> &lt;/dependency&gt; </div><div id="ww3_21_12_9_20_3_6_20" class="Body">This dependency will need to be in both BigMemory .Net Client and CL Connector classpaths. For the CL Connector, the component that needs to be set is <span class="apiname">EhcacheThriftConfiguration.Builder().cacheSerializerFactory(RecipeSerializerFactory.class)</span> so that the RecipeSerializerFactory, RecipeSerializer, and Recipe classes will be in the CL Connector's classpath. For the BigMemory .Net Client, the component that will be run is SimpleRecipeConsoleApp, which requires the SimpleRecipeConsoleApp, RecipeSerializer, and Recipe classes to be on the classpath along with the BigMemory .Net Client dependencies.</div><footer><!-- Related Topics --><!--                --><!-- Back to Top --><!--             --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><br></footer><div><div style="font-family: Arial, Verdana, Helvetica, Sans-Serif; font-size: 11px; margin-top: 20px; margin-bottom: 20px;"><span class="xref"><a href="http://documentation.softwareag.com/legal/" target="external_window">Copyright Â© <span>2010</span><span>-2016</span><span></span><span></span> Software AG, Darmstadt, Germany</a></span>.</div><hr></div><div style="font-family: Arial, Verdana, Helvetica, Sans-Serif; font-size: 13px; font-weight: bold; margin-top: 20px;"><span><img style="vertical-align:middle" src="../connect/terracotta_online.png" alt="Product Logo"><a href="https://empower.softwareag.com/ContactSupport/default.asp" target="_blank">Contact&nbsp;Support</a>
         &nbsp;&nbsp;|&nbsp;&nbsp;
       <a href="http://www.softwareag.com/corporate/community/default.asp" target="_blank">Community</a>
         &nbsp;&nbsp;|&nbsp;&nbsp;
       <a href="mailto://documentation@softwareag.com" target="_blank">Feedback&nbsp;&nbsp;</a></span></div></body></html>