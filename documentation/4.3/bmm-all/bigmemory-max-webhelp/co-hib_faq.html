<!DOCTYPE html ><html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8"><meta http-equiv="Content-Style-Type" content="text/css"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>FAQ</title><link rel="Prev" href="co-hib_viewing_hibernate_statistics.html" title="Previous"><link rel="Next" href="to-title_coldfusion_using_with_bmm.html" title="Next"><link rel="StyleSheet" href="css/aaa_bigmem_max_all.css" type="text/css" media="all"><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all"><link rel="StyleSheet" href="css/social.css" type="text/css" media="all"><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all"><!--[if IE 7]><link rel="StyleSheet" href="css/aaa_bigmem_max_all_IE7.css" type="text/css" media="all"><![endif]--><link rel="StyleSheet" href="css/print.css" type="text/css" media="print"><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if (window === window.top) {
        // Redirect
        //
        redirect_url = "../index.html#page/bigmemory-max-webhelp/co-hib_faq.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');
            redirect_url += '#' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script></head><body id="pQAhs4szAfHirUVzTrFR_002bow" class="ww_skin_page_body" onload="Page.OnLoad('../index.html#page/bigmemory-max-webhelp/co-hib_faq.html');"><header id="wwconnect_header"><div class="ww_skin_breadcrumbs"><span class="ww_skin_breadcrumbs_parent"><a href="../bigmemory-max-webhelp/to-title_product_documentation.html#wwconnect_header">Product Documentation</a></span><span class="ww_skin_breadcrumbs_divider"> : </span><span class="ww_skin_breadcrumbs_parent"><a href="../bigmemory-max-webhelp/to-title_bigmemory_max_integrations.html#wwconnect_header">BigMemory Max Integrations</a></span><span class="ww_skin_breadcrumbs_divider"> : </span><span class="ww_skin_breadcrumbs_parent"><a href="../bigmemory-max-webhelp/to-title_hibernate_using_with_bmm.html#wwconnect_header">Using BigMemory Max with Hibernate</a></span><span class="ww_skin_breadcrumbs_divider"> : </span><span class="ww_skin_breadcrumbs_current">FAQ</span></div><div class="ww_skin_page_toolbar"></div></header><div id="ww3_17_22_7_28_1" class="Heading_3">FAQ</div><div id="ww3_17_22_7_28_3_2_2" class="Section_Title">If I use <span class="ph">BigMemory Max</span> with my application and with Hibernate for second-level caching, should I try to use the CacheManager created by Hibernate for my app's caches?</div><div id="ww3_17_22_7_28_3_2_4" class="Body">While you could share the resource file between the two CacheManagers, a clear separation between the two is recommended. Your application may have a different lifecycle than Hibernate, and in each case your CacheManager "Automatic Resource Control" settings might need to be different.</div><div id="ww3_17_22_7_28_3_4_2" class="Section_Title">Should I use the provider in the Hibernate distribution or in <span class="ph">BigMemory Max's</span> Ehcache?</div><div id="ww3_17_22_7_28_3_4_4" class="Body">Since Hibernate 2.1, Hibernate has included an Ehcache CacheProvider. That provider is periodically synced up with the provider in the Ehcache Core distribution. New features are generally added in to the Ehcache Core provider and then the Hibernate one.</div><div id="ww3_17_22_7_28_3_6_2" class="Section_Title">Does <span class="ph">BigMemory Max</span> support the transactional strategy?</div><div id="ww3_17_22_7_28_3_6_4" class="Body">Yes. It was introduced in Ehcache 2.1.</div><div id="ww3_17_22_7_28_3_8_2" class="Section_Title">Why do certain caches sometimes get automatically cleared by Hibernate?</div><div id="ww3_17_22_7_28_3_8_4" class="Body">Whenever a Query.executeUpdate() is run, Hibernate invalidates affected cache regions (those corresponding to affected database tables) to ensure that no stale data is cached. This should also happen whenever stored procedures are executed.</div><div id="ww3_17_22_7_28_3_8_6" class="Body">For more information, see the Hibernate issue HHH-2224 at : <span class="external"><a href="https://hibernate.atlassian.net/browse/HHH-2224" target="external_window">https://hibernate.atlassian.net/browse/HHH-2224</a></span>.</div><div id="ww3_17_22_7_28_3_10_2" class="Section_Title">How are Hibernate entities keyed?</div><div id="ww3_17_22_7_28_3_10_4" class="Body">Hibernate identifies cached entities using an object id. This is normally the primary key of a database row.</div><div id="ww3_17_22_7_28_3_12_2" class="Section_Title">Are compound keys supported?</div><div id="ww3_17_22_7_28_3_12_4" class="Body">Yes.</div><div id="ww3_17_22_7_28_3_14_2" class="Section_Title">I am getting this error message: "An item was expired by the cache while it was locked." What is it?</div><div id="ww3_17_22_7_28_3_14_4" class="Body">Soft locks are implemented by replacing a value with a special type that marks the element as locked, thus indicating to other threads to treat it differently than a normal element. This is used in the Hibernate Read/Write strategy to force fall-through to the database during the two-phase commit. We cannot know exactly what should be returned by the cache while the commit is in process (but the database does). If a soft-locked element is evicted by the cache during the two-phase commit, then once the two-phase commit completes, the cache will fail to update (since the soft-locked element was evicted) and the cache entry will be reloaded from the database on the next read of that object. This is non-fatal, but could increase the database load slightly.</div><div id="ww3_17_22_7_28_3_14_6" class="Body">In summary the Hibernate messages are not problematic. The underlying cause is that the probabilistic evictor can theoretically evict recently loaded items. You can also use the deterministic evictor to avoid this problem. Specify the <span class="parmname">-Dnet.sf.ehcache.use.classic.lru=true</span> system property to turn on classic LRU, which contains a deterministic evictor.</div><footer><!-- Related Topics --><!--                --><!-- Back to Top --><!--             --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><br></footer><div><div style="font-family: Arial, Verdana, Helvetica, Sans-Serif; font-size: 11px; margin-top: 20px; margin-bottom: 20px;"><span class="xref"><a href="http://documentation.softwareag.com/legal/" target="external_window">Copyright Â© <span>2010</span><span>-2016</span><span></span><span></span> Software AG, Darmstadt, Germany</a></span>.</div><hr></div><div style="font-family: Arial, Verdana, Helvetica, Sans-Serif; font-size: 13px; font-weight: bold; margin-top: 20px;"><span><img style="vertical-align:middle" src="../connect/terracotta_online.png" alt="Product Logo"><a href="https://empower.softwareag.com/ContactSupport/default.asp" target="_blank">Contact&nbsp;Support</a>
         &nbsp;&nbsp;|&nbsp;&nbsp;
       <a href="http://www.softwareag.com/corporate/community/default.asp" target="_blank">Community</a>
         &nbsp;&nbsp;|&nbsp;&nbsp;
       <a href="mailto://documentation@softwareag.com" target="_blank">Feedback&nbsp;&nbsp;</a></span></div></body></html>