<!DOCTYPE html ><html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8"><meta http-equiv="Content-Style-Type" content="text/css"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>Configuration Examples</title><link rel="Prev" href="co-hc_calculating_healthchecker_maximum.html" title="Previous"><link rel="Next" href="co-hc_tuning_healthchecker.html" title="Next"><link rel="StyleSheet" href="css/aaa_bigmem_max_all.css" type="text/css" media="all"><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all"><link rel="StyleSheet" href="css/social.css" type="text/css" media="all"><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all"><!--[if IE 7]><link rel="StyleSheet" href="css/aaa_bigmem_max_all_IE7.css" type="text/css" media="all"><![endif]--><link rel="StyleSheet" href="css/print.css" type="text/css" media="print"><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if (window === window.top) {
        // Redirect
        //
        redirect_url = "../index.html#page/bigmemory-max-webhelp/co-hc_configuration_examples.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');
            redirect_url += '#' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script></head><body id="pkkkSF7Skjaaj39iYzacBZg" class="ww_skin_page_body" onload="Page.OnLoad('../index.html#page/bigmemory-max-webhelp/co-hc_configuration_examples.html');"><header id="wwconnect_header"><div class="ww_skin_breadcrumbs"><span class="ww_skin_breadcrumbs_parent"><a href="../bigmemory-max-webhelp/to-title_product_documentation.html#wwconnect_header">Product Documentation</a></span><span class="ww_skin_breadcrumbs_divider"> : </span><span class="ww_skin_breadcrumbs_parent"><a href="../bigmemory-max-webhelp/to-title_bigmemory_max_ha_guide.html#wwconnect_header">BigMemory Max High-Availability Guide</a></span><span class="ww_skin_breadcrumbs_divider"> : </span><span class="ww_skin_breadcrumbs_parent"><a href="../bigmemory-max-webhelp/to-hc_configuring_healthchecker_properties.html#wwconnect_header">Configuring the HealthChecker Properties</a></span><span class="ww_skin_breadcrumbs_divider"> : </span><span class="ww_skin_breadcrumbs_current">Configuration Examples</span></div><div class="ww_skin_page_toolbar"></div></header><div id="ww3_17_16_9_14_1" class="Heading_3">Configuration Examples</div><div id="ww3_17_16_9_14_3_2" class="Body">The configuration examples in this section show settings for L1 -&gt; L2 HealthChecker. However, they apply in the similarly to L2 -&gt; L2 and L2 -&gt; L1, which means that the server is using HealthChecker on the client.</div><div id="ww3_17_16_9_14_3_4" class="Body"><span class="inlinetitle">Aggressive</span></div><div id="ww3_17_16_9_14_3_6" class="Body">The following settings create an aggressive HealthChecker with low tolerance for short network outages or long GC cycles:</div><div id="ww3_17_16_9_14_3_8" class="Preformatted">&lt;property name="l1.healthcheck.l2.ping.enabled" value="true" /&gt;<br>&lt;property name="l1.healthcheck.l2.ping.idletime" value="2000" /&gt;<br>&lt;property name="l1.healthcheck.l2.ping.interval" value="1000" /&gt;<br>&lt;property name="l1.healthcheck.l2.ping.probes" value="3" /&gt;<br>&lt;property name="l1.healthcheck.l2.socketConnect" value="true" /&gt;<br>&lt;property name="l1.healthcheck.l2.socketConnectTimeout" value="2" /&gt;<br>&lt;property name="l1.healthcheck.l2.socketConnectCount" value="5" /&gt;<br></div><div id="ww3_17_16_9_14_3_10" class="Body">According to the HealthChecker "Max Time" formula, the maximum time before a remote node is considered to be lost is computed in the following way:</div><div id="ww3_17_16_9_14_3_12" class="Preformatted"> 2000 + 5 [( 3 * 1000 ) + ( 2 * 1000)] = 27000</div><div id="ww3_17_16_9_14_3_14" class="Body">In this case, after the initial idletime of 2 seconds, the remote failed to respond to ping probes but responded to every socket connection attempt, indicating that the node is reachable but not functional (within the allowed time frame) or in a long GC cycle. This aggressive HealthChecker configuration declares a node dead in no more than 27 seconds.</div><div id="ww3_17_16_9_14_3_16" class="Body">If at some point the node had been completely unreachable (a socket connection attempt failed), HealthChecker would have declared it dead sooner. Where, for example, the problem is a disconnected network cable, the "Max Time" is likely to be even shorter:</div><div id="ww3_17_16_9_14_3_18" class="Preformatted"> 2000 + 1[3 * 1000) + ( 2 * 1000 ) = 7000</div><div id="ww3_17_16_9_14_3_20" class="Body">In this case, HealthChecker declares a node dead in no more than 7 seconds.</div><div id="ww3_17_16_9_14_3_22" class="Body"><span class="inlinetitle">Tolerant</span></div><div id="ww3_17_16_9_14_3_24" class="Body">The following settings create a HealthChecker with a higher tolerance for interruptions in network communications and long GC cycles:</div><div id="ww3_17_16_9_14_3_26" class="Preformatted">&lt;property name="l1.healthcheck.l2.ping.enabled" value="true" /&gt;<br>&lt;property name="l1.healthcheck.l2.ping.idletime" value="5000" /&gt;<br>&lt;property name="l1.healthcheck.l2.ping.interval" value="1000" /&gt;<br>&lt;property name="l1.healthcheck.l2.ping.probes" value="3" /&gt;<br>&lt;property name="l1.healthcheck.l2.socketConnect" value="true" /&gt;<br>&lt;property name="l1.healthcheck.l2.socketConnectTimeout" value="5" /&gt;<br>&lt;property name="l1.healthcheck.l2.socketConnectCount" value="10" /&gt;<br></div><div id="ww3_17_16_9_14_3_28" class="Body">According to the HealthChecker "Max Time" formula, the maximum time before a remote node is considered to be lost is computed in the following way:</div><div id="ww3_17_16_9_14_3_30" class="Preformatted"> 5000 + 10 [( 3 x 1000 ) + ( 5 x 1000)] = 85000</div><div id="ww3_17_16_9_14_3_32" class="Body">In this case, after the initial idletime of 5 seconds, the remote failed to respond to ping probes but responded to every socket connection attempt, indicating that the node is reachable but not functional (within the allowed time frame) or excessively long GC cycle. This tolerant HealthChecker configuration declares a node dead in no more than 85 seconds.</div><div id="ww3_17_16_9_14_3_34" class="Body">If at some point the node had been completely unreachable (a socket connection attempt failed), HealthChecker would have declared it dead sooner. Where, for example, the problem is a disconnected network cable, the "Max Time" is likely to be even shorter:</div><div id="ww3_17_16_9_14_3_36" class="Preformatted"> 5000 + 1[3 * 1000) + ( 5 * 1000 )] = 13000</div><div id="ww3_17_16_9_14_3_38" class="Body">In this case, HealthChecker declares a node dead in no more than 13 seconds.</div><footer><!-- Related Topics --><!--                --><!-- Back to Top --><!--             --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><br></footer><div><div style="font-family: Arial, Verdana, Helvetica, Sans-Serif; font-size: 11px; margin-top: 20px; margin-bottom: 20px;"><span class="xref"><a href="http://documentation.softwareag.com/legal/" target="external_window">Copyright Â© <span>2010</span><span>-2016</span><span></span><span></span> Software AG, Darmstadt, Germany</a></span>.</div><hr></div><div style="font-family: Arial, Verdana, Helvetica, Sans-Serif; font-size: 13px; font-weight: bold; margin-top: 20px;"><span><img style="vertical-align:middle" src="../connect/terracotta_online.png" alt="Product Logo"><a href="https://empower.softwareag.com/ContactSupport/default.asp" target="_blank">Contact&nbsp;Support</a>
         &nbsp;&nbsp;|&nbsp;&nbsp;
       <a href="http://www.softwareag.com/corporate/community/default.asp" target="_blank">Community</a>
         &nbsp;&nbsp;|&nbsp;&nbsp;
       <a href="mailto://documentation@softwareag.com" target="_blank">Feedback&nbsp;&nbsp;</a></span></div></body></html>