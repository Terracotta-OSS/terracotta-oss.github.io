<!DOCTYPE html ><html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8"><meta http-equiv="Content-Style-Type" content="text/css"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>Specific Errors and Warnings</title><link rel="Prev" href="co-faq_bigmem_max_troubleshooting_questions.html" title="Previous"><link rel="StyleSheet" href="css/aaa_bigmem_max_all.css" type="text/css" media="all"><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all"><link rel="StyleSheet" href="css/social.css" type="text/css" media="all"><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all"><!--[if IE 7]><link rel="StyleSheet" href="css/aaa_bigmem_max_all_IE7.css" type="text/css" media="all"><![endif]--><link rel="StyleSheet" href="css/print.css" type="text/css" media="print"><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if (window === window.top) {
        // Redirect
        //
        redirect_url = "../index.html#page/bigmemory-max-webhelp/co-faq_bigmem_max_specific_errors.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');
            redirect_url += '#' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script></head><body id="pUml9La9MyUTRO_002fBU6ocftg" class="ww_skin_page_body" onload="Page.OnLoad('../index.html#page/bigmemory-max-webhelp/co-faq_bigmem_max_specific_errors.html');"><header id="wwconnect_header"><div class="ww_skin_breadcrumbs"><span class="ww_skin_breadcrumbs_parent"><a href="../bigmemory-max-webhelp/to-title_bigmemory_max_faq.html#wwconnect_header">FAQ</a></span><span class="ww_skin_breadcrumbs_divider"> : </span><span class="ww_skin_breadcrumbs_current">Specific Errors and Warnings</span></div><div class="ww_skin_page_toolbar"></div></header><div id="ww3_25_14_1" class="Heading_1">Specific Errors and Warnings</div><div id="ww3_25_14_2_2_2" class="Section_Title">What does the warning "WARN com.tc.bytes.TCByteBufferFactory - Asking for a large amount of memory..." mean?</div><div id="ww3_25_14_2_2_4" class="Body">If you see this warning repeatedly, objects larger than the recommended maximum are being shared in the Terracotta cluster. These objects must be sent between clients and servers. In this case, related warnings containing text similar to <span class="codeph">Attempt to read a byte array of len: 12251178; threshold=8000000</span> and <span class="codeph">Attempting to send a message (com.tc.net.protocol.delivery.OOOProtocolMessageImpl) of size</span> may also appear in the logs.</div><div id="ww3_25_14_2_2_6" class="Body">If there are a large number of over-sized objects being shared, low-memory issues and degradation of performance may result.</div><div id="ww3_25_14_2_2_8" class="Body">In addition, if elements too large to fit in a client are cached, the value will be stored on the server, thus degrading performance (reads will be slower). In this case, a warning is logged.</div><div id="ww3_25_14_2_4_2" class="Section_Title">When starting a Terracotta server, why does it throw a DBVersionMismatchException</div><div id="ww3_25_14_2_4_4" class="Body">The server is expecting a Terracotta database with a compatible version, but is finding one with non-compatible version. This usually occurs when starting a Terracotta server with an older version of the database. Note that this can only occur with servers in the restartable mode.</div><div id="ww3_25_14_2_6_2" class="Section_Title">Why am I getting MethodNotFound and ClassNotFound exceptions?</div><div id="ww3_25_14_2_6_4" class="Body">If you've integrated a Terracotta product with a framework such as Spring or Hibernate and are getting one of these exceptions, make sure that an older version of that Terracotta product isn't on the classpath. With Maven involved, sometimes an older version of a Terracotta product is specified in a framework's POM and ends up ahead of the current version you've specified. You can use tools such as jconsole or jvisualvm to debug, or specify <span class="codeph">-XX:+TraceClassLoading</span> on the command line.</div><div id="ww3_25_14_2_6_6" class="Body">If a ClassNotFound exception is thrown at startup, refer to the <span class="external"><a href="https://confluence.terracotta.org/display/release/Home" target="external_window">Release and Platform Compatibility Information</a></span> to ensure that you have a supported JDK (not JRE) installed.</div><div id="ww3_25_14_2_8_2" class="Section_Title">When I start a Terracotta server, why does it fail with a schema error?</div><div id="ww3_25_14_2_8_4" class="Body">You may get an error similar to the following when a Terracotta server fails to start:</div><div id="ww3_25_14_2_8_6" class="Preformatted"> Error Message: <br>Starting BootJarTool... <br>2008-10-08 10:29:29,278 INFO - Terracotta 2.7.0, as of 20081001-101049 <br>(Revision 10251 by cruise@rh4mo0 from 2.7) <br>2008-10-08 10:29:30,459 FATAL - <br>******************************************************************************* <br>The configuration data in the file at "/opt/terracotta/conf/tc-config.xml" <br>does not obey the Terracotta schema: <br>[0]: Line 8, column 3: Element not allowed: server in element servers <br>*******************************************************************************</div><div id="ww3_25_14_2_8_8" class="Body">This error occurs when there's a schema violation in the Terracotta configuration file, at the line indicated by the error text. To confirm that your configuration file follows the required schema, see the schema file included with the Terracotta kit. The kit includes schema files (*.xsd) for Terracotta, Ehcache, and Quartz configurations.</div><div id="ww3_25_14_2_10_2" class="Section_Title">The Terracotta servers crash regularly and I see a ChecksumException.</div><div id="ww3_25_14_2_10_4" class="Body">If the logs reveal an error similar to <span class="codeph">com.sleepycat.je.log.ChecksumException: Read invalid log entry type: 0 LOG_CHECKSUM</span>, there is likely a corrupted disk on at least one of the servers.</div><div id="ww3_25_14_2_12_2" class="Section_Title">Why is java.net.UnknownHostException thrown when I try to run Terracotta sample applications?</div><div id="ww3_25_14_2_12_4" class="Body">If an UnknownHostException occurs, and you experience trouble running the Terracotta Welcome application and the included sample applications on Linux (especially Ubuntu), you may need to edit the etc/hosts file.</div><div id="ww3_25_14_2_12_6" class="Body">The UnknownHostException may be followed by "unknown-ip-address".</div><div id="ww3_25_14_2_12_8" class="Body">For example, your etc/hosts file may contain settings similar to the following:</div><div id="ww3_25_14_2_12_10" class="Preformatted">127.0.0.1       localhost <br>127.0.1.1    myUbuntu.usa myUbuntu</div><div id="ww3_25_14_2_12_12" class="Body">If myUbuntu is the host, you must change 127.0.1.1 to the host's true IP address.</div><div class="ww_skin_page_overflow"><table class="note1" summary=""><tr><td class="Table_Cell" style="padding-right: 6px; vertical-align: top"><div id="ww3_25_14_2_12_14_1_3_1_1_1" class="Note"><span style="font-weight: bold">Note:  </span>&nbsp;</div></td><td class="Table_Cell" style="padding-right: 6px; vertical-align: top"><div id="ww3_25_14_2_12_14_1_3_1_2" class="Table_Cell">You may be able to successfully start Terracotta server instances even with the "invalid" etc/hosts file, and receive no exceptions or errors, but other connectivity problems can occur. For example, when starting two Terracotta servers that should form a mirror group (one active and one standby), you may see behavior that indicates that the servers cannot communicate with each other.</div></td></tr></table></div><div id="ww3_25_14_2_14_2" class="Section_Title">On a node with plenty of RAM and disk space, why is there a failure with errors stating that a "native thread" cannot be created?</div><div id="ww3_25_14_2_14_4" class="Body">You may be exceeding a limit at the system level. In *NIX, run the following command to see what the limits are:</div><div id="ww3_25_14_2_14_6" class="Preformatted">ulimit -a</div><div id="ww3_25_14_2_14_8" class="Body">For example, a limit on the number of processes that can run in the shell may be responsible for the errors.</div><div id="ww3_25_14_2_16_2" class="Section_Title">Why does the Terracotta server crash regularly with <span class="emphasis">java.io.IOException: File exists?java.io.IOException: File exists</span>?</div><div id="ww3_25_14_2_16_4" class="Body">Early versions of JDK 1.6 had a <span class="xref"><a href="http://bugs.java.com/view_bug.do?bug_id=6693490" target="external_window">JVM bug</a></span> caused this failure. Update JDK to avoid this issue.</div><div id="ww3_25_14_2_18_2" class="Section_Title">What does a warning about the ChangeApplicator or ServerMapApplicator mean?</div><div id="ww3_25_14_2_18_4" class="Body">If you see warning messages such as these:</div><div id="ww3_25_14_2_18_6" class="Preformatted">WARN com.tc.object.applicator.ChangeApplicator.com. <br>  terracotta.toolkit.collections.map.ServerMapApplicator - <br>  ServerMap received delta changes for methods other than CLEAR <br>WARN com.tc.object.applicator.ChangeApplicator.com. <br>  terracotta.toolkit.collections.map.ServerMapApplicator - <br>  ServerMap shouldn't normally be broadcasting changes <br>  unless it's a clear/destroy, but could be a resent txn after crash</div><div id="ww3_25_14_2_18_8" class="Body">The logging is telling you that there are changes being broadcasted to clients. Normally these are not broadcasted to clients, however in the event of a failover or active restart from disk, it is possible for transactions to be broadcasted. It is safe to ignore these warnings, however it would probably be a good idea to see if there really was an active server restart or failover, in case some other action is necessary.</div><footer><!-- Related Topics --><!--                --><!-- Back to Top --><!--             --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><br></footer><div><div style="font-family: Arial, Verdana, Helvetica, Sans-Serif; font-size: 11px; margin-top: 20px; margin-bottom: 20px;"><span class="xref"><a href="http://documentation.softwareag.com/legal/" target="external_window">Copyright © <span>2010</span><span>-2016</span><span></span><span></span> Software AG, Darmstadt, Germany</a></span>.</div><hr></div><div style="font-family: Arial, Verdana, Helvetica, Sans-Serif; font-size: 13px; font-weight: bold; margin-top: 20px;"><span><img style="vertical-align:middle" src="../connect/terracotta_online.png" alt="Product Logo"><a href="https://empower.softwareag.com/ContactSupport/default.asp" target="_blank">Contact&nbsp;Support</a>
         &nbsp;&nbsp;|&nbsp;&nbsp;
       <a href="http://www.softwareag.com/corporate/community/default.asp" target="_blank">Community</a>
         &nbsp;&nbsp;|&nbsp;&nbsp;
       <a href="mailto://documentation@softwareag.com" target="_blank">Feedback&nbsp;&nbsp;</a></span></div></body></html>