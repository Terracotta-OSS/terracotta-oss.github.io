<!DOCTYPE html ><html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8"><meta http-equiv="Content-Style-Type" content="text/css"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>Setting up Authentication/Authorization</title><link rel="Prev" href="co-setup_server_keychain.html" title="Previous"><link rel="Next" href="co-setup_bmsql_authorization.html" title="Next"><link rel="StyleSheet" href="css/aaa_bigmem_max_all.css" type="text/css" media="all"><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all"><link rel="StyleSheet" href="css/social.css" type="text/css" media="all"><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all"><!--[if IE 7]><link rel="StyleSheet" href="css/aaa_bigmem_max_all_IE7.css" type="text/css" media="all"><![endif]--><link rel="StyleSheet" href="css/print.css" type="text/css" media="print"><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if (window === window.top) {
        // Redirect
        //
        redirect_url = "../index.html#page/bigmemory-max-webhelp/co-setup_authentication_authorization.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');
            redirect_url += '#' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script></head><body id="pHnuX6zsY9iWdVIAWItVYXg" class="ww_skin_page_body" onload="Page.OnLoad('../index.html#page/bigmemory-max-webhelp/co-setup_authentication_authorization.html');"><header id="wwconnect_header"><div class="ww_skin_breadcrumbs"><span class="ww_skin_breadcrumbs_parent"><a href="../bigmemory-max-webhelp/to-title_product_documentation.html#wwconnect_header">Product Documentation</a></span><span class="ww_skin_breadcrumbs_divider"> : </span><span class="ww_skin_breadcrumbs_parent"><a href="../bigmemory-max-webhelp/to-title_bigmemory_max_security_guide.html#wwconnect_header">BigMemory Max Security Guide</a></span><span class="ww_skin_breadcrumbs_divider"> : </span><span class="ww_skin_breadcrumbs_parent"><a href="../bigmemory-max-webhelp/to-setup_server_security.html#wwconnect_header">Setting Up Server Security</a></span><span class="ww_skin_breadcrumbs_divider"> : </span><span class="ww_skin_breadcrumbs_current">Setting up Authentication/Authorization</span></div><div class="ww_skin_page_toolbar"></div></header><div id="ww3_17_14_13_12_1" class="Heading_3">Setting up Authentication/Authorization</div><div id="ww3_17_14_13_12_3_2" class="Body">Servers and clients that connect to a secured server must have credentials (usernames/passwords) and roles (authorization) defined. This section discusses the authentication/authorization mechanism based on using a <span class="filepath">.ini</span> file. To use LDAP or Microsoft Active Directory instead, see <span class="xref"><a href="../bigmemory-max-webhelp/to-ldap_using_ldap_or_ad.html#wwconnect_header" title="Using LDAP or Active Directory for Authentication">LDAP and Active Directory setup page</a></span>.</div><div id="ww3_17_14_13_12_3_4" class="Body">Authentication and authorization are set up using the <span class="filepath">usermanagement</span> script, located in the Terracotta kit's <span class="filepath">tools/security/bin</span> directory. This script also creates the <span class="filepath">.ini</span> file that contains the required usernames and roles. The associated passwords are stored in the keychain file.</div><div id="ww3_17_14_13_12_3_6" class="Body">All nodes in a secured Terracotta cluster must have an entry in the server's <span class="filepath">.ini</span> file:</div><div id="ww3_17_14_13_12_3_8_2_3" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span>The local server itself</div><div id="ww3_17_14_13_12_3_8_4_3" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span>All other servers</div><div id="ww3_17_14_13_12_3_8_6_3" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span>All clients</div><div id="ww3_17_14_13_12_3_10" class="Body">Use the <span class="filepath">usermanagement</span> script with the following format:</div><div id="ww3_17_14_13_12_3_12" class="Preformatted">tools/security/bin/usermanagement.sh -c &lt;file&gt; &lt;username&gt; terracotta</div><div id="ww3_17_14_13_12_3_14" class="Body">where <span class="codeph">-c</span> is required only if the file does not already exist. For servers, the <span class="codeph">&lt;username&gt;</span> will be used as the value configured in <span class="codeph">&lt;security&gt;/&lt;auth&gt;/&lt;user&gt;</span>. For clients, the username must match the one used to start the client.</div><div class="ww_skin_page_overflow"><table class="note1" summary=""><tr><td class="Table_Cell" style="padding-right: 6px; vertical-align: top"><div id="ww3_17_14_13_12_3_16_1_3_1_1_1" class="Note"><span style="font-weight: bold">Note:  </span>&nbsp;</div></td><td class="Table_Cell" style="padding-right: 6px; vertical-align: top"><div id="ww3_17_14_13_12_3_16_1_3_1_2" class="Table_Cell">While the "terracotta" role is appropriate for Terracotta servers and clients, the "admin" role is necessary for performing system functions such as stopping servers. For more information about roles, refer to <span class="xref"><a href="../bigmemory-max-webhelp/co-cluster_user_roles.html#wwconnect_header" title="User Roles">User Roles</a></span>.</div></td></tr></table></div><div id="ww3_17_14_13_12_3_18" class="Body">For example:</div><div id="ww3_17_14_13_12_3_20" class="Preformatted"># Create the .ini file and add a server username and role.<br>tools/security/bin/usermanagement.sh -c my_auth.ini server1username terracotta<br><br># Add another server.<br>tools/security/bin/usermanagement.sh my_auth.ini server2username terracotta<br><br># Add a client.<br>tools/security/bin/usermanagement.sh my_auth.ini client1username terracotta<br>        <br># Add a user with an "admin" (read/write) role.<br>tools/security/bin/usermanagement.sh my_auth.ini admin1username admin<br><br># Add a user with a "terracotta" (read) role.<br>tools/security/bin/usermanagement.sh my_auth.ini console1username operator</div><div id="ww3_17_14_13_12_3_22" class="Body">The correct Apache Shiro Realm must be specified in the <span class="xref"><a href="../bigmemory-max-webhelp/co-setup_configure_server_security.html#wwconnect_header" title="Configuring Server Security">server configuration</a></span>, along with the path to the .ini file:</div><div id="ww3_17_14_13_12_3_24" class="Preformatted">...<br>&lt;auth&gt;<br>  &lt;realm&gt;com.tc.net.core.security.ShiroIniRealm&lt;/realm&gt;<br>  &lt;url&gt;file:///%(user.dir)/my_auth.ini&lt;/url&gt;<br>  &lt;user&gt;server1username&lt;/user&gt;<br>&lt;/auth&gt;<br>...</div><footer><!-- Related Topics --><!--                --><!-- Back to Top --><!--             --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><br></footer><div><div style="font-family: Arial, Verdana, Helvetica, Sans-Serif; font-size: 11px; margin-top: 20px; margin-bottom: 20px;"><span class="xref"><a href="http://documentation.softwareag.com/legal/" target="external_window">Copyright Â© <span>2010</span><span>-2016</span><span></span><span></span> Software AG, Darmstadt, Germany</a></span>.</div><hr></div><div style="font-family: Arial, Verdana, Helvetica, Sans-Serif; font-size: 13px; font-weight: bold; margin-top: 20px;"><span><img style="vertical-align:middle" src="../connect/terracotta_online.png" alt="Product Logo"><a href="https://empower.softwareag.com/ContactSupport/default.asp" target="_blank">Contact&nbsp;Support</a>
         &nbsp;&nbsp;|&nbsp;&nbsp;
       <a href="http://www.softwareag.com/corporate/community/default.asp" target="_blank">Community</a>
         &nbsp;&nbsp;|&nbsp;&nbsp;
       <a href="mailto://documentation@softwareag.com" target="_blank">Feedback&nbsp;&nbsp;</a></span></div></body></html>