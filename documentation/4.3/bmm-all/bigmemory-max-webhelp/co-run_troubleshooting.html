<!DOCTYPE html ><html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8"><meta http-equiv="Content-Style-Type" content="text/css"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>Troubleshooting</title><link rel="Prev" href="co-run_stopping_secured_server.html" title="Previous"><link rel="Next" href="to-ldap_using_ldap_or_ad.html" title="Next"><link rel="StyleSheet" href="css/aaa_bigmem_max_all.css" type="text/css" media="all"><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all"><link rel="StyleSheet" href="css/social.css" type="text/css" media="all"><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all"><!--[if IE 7]><link rel="StyleSheet" href="css/aaa_bigmem_max_all_IE7.css" type="text/css" media="all"><![endif]--><link rel="StyleSheet" href="css/print.css" type="text/css" media="print"><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if (window === window.top) {
        // Redirect
        //
        redirect_url = "../index.html#page/bigmemory-max-webhelp/co-run_troubleshooting.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');
            redirect_url += '#' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script></head><body id="pMVw_002fI386PpOILOf5p47kRw" class="ww_skin_page_body" onload="Page.OnLoad('../index.html#page/bigmemory-max-webhelp/co-run_troubleshooting.html');"><header id="wwconnect_header"><div class="ww_skin_breadcrumbs"><span class="ww_skin_breadcrumbs_parent"><a href="../bigmemory-max-webhelp/to-title_product_documentation.html#wwconnect_header">Product Documentation</a></span><span class="ww_skin_breadcrumbs_divider"> : </span><span class="ww_skin_breadcrumbs_parent"><a href="../bigmemory-max-webhelp/to-title_bigmemory_max_security_guide.html#wwconnect_header">BigMemory Max Security Guide</a></span><span class="ww_skin_breadcrumbs_divider"> : </span><span class="ww_skin_breadcrumbs_parent"><a href="../bigmemory-max-webhelp/to-run_running_secured_server.html#wwconnect_header">Running a Secured Server</a></span><span class="ww_skin_breadcrumbs_divider"> : </span><span class="ww_skin_breadcrumbs_current">Troubleshooting</span></div><div class="ww_skin_page_toolbar"></div></header><div id="ww3_17_14_21_12_1" class="Heading_3">Troubleshooting</div><div id="ww3_17_14_21_12_3_2" class="Body">You might encounter any of the following exceptions at startup:</div><div id="ww3_17_14_21_12_3_4_2" class="Section_Title">TCRuntimeException: ... Wrong secret provided ?</div><div id="ww3_17_14_21_12_3_4_4" class="Body">The following exception indicates that the keychain file uses the default obfuscation scheme, but that the <span class="codeph">-O</span> flag was not used with the keychain script:</div><div id="ww3_17_14_21_12_3_4_6" class="Preformatted">com.tc.exception.TCRuntimeException: <br>com.terracotta.management.keychain.crypto.SecretMismatchException: <br>Wrong secret provided ?</div><div id="ww3_17_14_21_12_3_4_8" class="Body">Be sure to use the <span class="codeph">-O</span> flag whenever using the keychain script.</div><div id="ww3_17_14_21_12_3_6_2" class="Section_Title">No Configured SSL certificate</div><div id="ww3_17_14_21_12_3_6_4" class="Body">The following exception indicates that no SSL certificate was found for the server named "myServer":</div><div id="ww3_17_14_21_12_3_6_6" class="Preformatted">Fatal Terracotta startup exception:<br><br> <br>*********************************************************************<br>Security is enabled but server myServer has no configured SSL certificate.<br>*********************************************************************</div><div id="ww3_17_14_21_12_3_6_8" class="Body">Check that the expected SSL certificate was created for myServer and stored at the configured location.</div><div id="ww3_17_14_21_12_3_8_2" class="Section_Title">IllegalStateException: Invalid cluster security configuration</div><div id="ww3_17_14_21_12_3_8_4" class="Body">This exception can occur when the security section in the Terracotta configuration file is not set up properly. However, this type of exception can also indicate problems elsewhere in the security setup. For example, an exception similar to the following can occur:</div><div id="ww3_17_14_21_12_3_8_6" class="Preformatted">java.lang.IllegalStateException: Invalid cluster security configuration. <br>Unable to find connection credentials to server myOtherServer</div><div id="ww3_17_14_21_12_3_8_8" class="Body">This exception indicates that credentials cannot be found for the server named "myOtherServer". These credentials might be missing from or do not exist in the configured authentication source.</div><div id="ww3_17_14_21_12_3_10_2" class="Section_Title">RuntimeException: Couldn't access a Console instance to fetch the password from!</div><div id="ww3_17_14_21_12_3_10_4" class="Body">This results from using "nohup" during startup. The startup process requires a console for reading password entry. You cannot run the startup process in the background if it requires manual password entry. For information on how to avoid having to manually enter the master keychain password, see <span class="xref"><a href="../bigmemory-max-webhelp/co-key_reading_keychain_master_password.html#wwconnect_header" title="Reading the Keychain Master Password from a File">Reading the Keychain Master Password from a File</a></span>. </div><div id="ww3_17_14_21_12_3_12_2" class="Section_Title">TCRuntimeException: Couldn't create KeyChain instance ...</div><div id="ww3_17_14_21_12_3_12_4" class="Body">The keychain file specified in the Terracotta configuration cannot be found. Check for the existence of the file at the location specified in <span class="codeph">&lt;keychain&gt;/&lt;url&gt;</span> or the property <span class="codeph">com.tc.security.keychain.url</span>.</div><div id="ww3_17_14_21_12_3_14_2" class="Section_Title">RuntimeException: Couldn't read from file ...</div><div id="ww3_17_14_21_12_3_14_4" class="Body">This exception appears just after an incorrect password is entered for an <span class="xref"><a href="../bigmemory-max-webhelp/to_key_using_encrypted_keychains.html#wwconnect_header" title="Using Encrypted Keychains">encrypted keychain file</a></span>.</div><div id="ww3_17_14_21_12_3_16_2" class="Section_Title">RuntimeException: No password available in keyChain for ...</div><div id="ww3_17_14_21_12_3_16_4" class="Body">This exception appears if no keychain password entry is found for the server's certificate. You must explicitly <span class="xref"><a href="../bigmemory-max-webhelp/co-setup_server_keychain.html#wwconnect_header" title="Setting up the Server Keychain">store the certificate password</a></span> in the keychain file.</div><div id="ww3_17_14_21_12_3_16_6" class="Body">This exception can also appear if the resolved hostname or IP address is different from the one in the keychain entry:</div><div id="ww3_17_14_21_12_3_16_8_2_3" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span><span class="codeph">tc://terracotta@localhost:9530</span> is the entry, but when the server configuration is read then <span class="codeph">localhost</span> is resolved to an IP address. The entry searched for becomes <span class="codeph">tc://terracotta@&lt;a.certain.ip.address&gt;:9530</span>.</div><div id="ww3_17_14_21_12_3_16_8_4_3" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span><span class="codeph">tc://terracotta@&lt;a.certain.ip.address&gt;:9530</span> is the entry, but when the server configuration is read then <span class="filepath">&lt;a.certain.ip.address&gt;</span> is resolved to a host name. The entry searched for becomes <span class="filepath">tc://terracotta@my.host.com:9530</span>.</div><div id="ww3_17_14_21_12_3_18_2" class="Section_Title">Two Active Servers (Split Brain)</div><div id="ww3_17_14_21_12_3_18_4" class="Body">Instead of an active-mirror 2-server stripe, both servers assert active status after being started. This exception can be caused by the failure of the SSL handshake. An entry similar to the following might appear in the server log:</div><div id="ww3_17_14_21_12_3_18_6" class="Preformatted">2013-05-17 12:10:24,805 [L2_L2:TCWorkerComm # 1_W] <br>ERROR com.tc.net.core.TCConnection - SSL handshake error: <br>unable to find valid certification path to requested target, closing connection.</div><div id="ww3_17_14_21_12_3_18_8" class="Body">For each server, ensure that all keychain entries are accurate, and that the required certificates are available from the appropriate truststores.</div><div id="ww3_17_14_21_12_3_20_2" class="Section_Title">No Messages Indicating Security Enabled</div><div id="ww3_17_14_21_12_3_20_4" class="Body">If servers start with no errors, but there are no messages indicating that security is enabled, ensure that the <span class="codeph">&lt;servers&gt;</span> element contains <span class="codeph">secure="true"</span> .</div><footer><!-- Related Topics --><!--                --><!-- Back to Top --><!--             --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><br></footer><div><div style="font-family: Arial, Verdana, Helvetica, Sans-Serif; font-size: 11px; margin-top: 20px; margin-bottom: 20px;"><span class="xref"><a href="http://documentation.softwareag.com/legal/" target="external_window">Copyright © <span>2010</span><span>-2016</span><span></span><span></span> Software AG, Darmstadt, Germany</a></span>.</div><hr></div><div style="font-family: Arial, Verdana, Helvetica, Sans-Serif; font-size: 13px; font-weight: bold; margin-top: 20px;"><span><img style="vertical-align:middle" src="../connect/terracotta_online.png" alt="Product Logo"><a href="https://empower.softwareag.com/ContactSupport/default.asp" target="_blank">Contact&nbsp;Support</a>
         &nbsp;&nbsp;|&nbsp;&nbsp;
       <a href="http://www.softwareag.com/corporate/community/default.asp" target="_blank">Community</a>
         &nbsp;&nbsp;|&nbsp;&nbsp;
       <a href="mailto://documentation@softwareag.com" target="_blank">Feedback&nbsp;&nbsp;</a></span></div></body></html>