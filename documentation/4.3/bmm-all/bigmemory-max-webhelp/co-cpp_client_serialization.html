<!DOCTYPE html ><html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8"><meta http-equiv="Content-Style-Type" content="text/css"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>C++ Client Serialization</title><link rel="Prev" href="co-cpp_using_cpp_client_api.html" title="Previous"><link rel="Next" href="co-cpp_consistency.html" title="Next"><link rel="StyleSheet" href="css/aaa_bigmem_max_all.css" type="text/css" media="all"><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all"><link rel="StyleSheet" href="css/social.css" type="text/css" media="all"><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all"><!--[if IE 7]><link rel="StyleSheet" href="css/aaa_bigmem_max_all_IE7.css" type="text/css" media="all"><![endif]--><link rel="StyleSheet" href="css/print.css" type="text/css" media="print"><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if (window === window.top) {
        // Redirect
        //
        redirect_url = "../index.html#page/bigmemory-max-webhelp/co-cpp_client_serialization.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');
            redirect_url += '#' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script></head><body id="pifvNXD_002biQTWB6WYF6QiMBQ" class="ww_skin_page_body" onload="Page.OnLoad('../index.html#page/bigmemory-max-webhelp/co-cpp_client_serialization.html');"><header id="wwconnect_header"><div class="ww_skin_breadcrumbs"><span class="ww_skin_breadcrumbs_parent"><a href="../bigmemory-max-webhelp/to-title_component_documentation.html#wwconnect_header">Component Documentation</a></span><span class="ww_skin_breadcrumbs_divider"> : </span><span class="ww_skin_breadcrumbs_parent"><a href="../bigmemory-max-webhelp/to-title_ccl_user_guide.html#wwconnect_header">Cross-Language Clients User Guide</a></span><span class="ww_skin_breadcrumbs_divider"> : </span><span class="ww_skin_breadcrumbs_parent"><a href="../bigmemory-max-webhelp/to-cpp_clients.html#wwconnect_header">BigMemory C++ Client</a></span><span class="ww_skin_breadcrumbs_divider"> : </span><span class="ww_skin_breadcrumbs_current">C++ Client Serialization</span></div><div class="ww_skin_page_toolbar"></div></header><div id="ww3_21_12_11_14_1" class="Heading_3">C++ Client Serialization</div><div id="ww3_21_12_11_14_3_2_2" class="Body">Data that will be shared across languages needs to be serialized. The choice of which serializer to use depends upon your environment. Some planning and consideration needs to go into the choice of a serializer, as there are pros and cons related to each. For example, with a JSON serializer, you can manually annotate the domain object for desired attributes. On the other hand, a Google Protocol Buffer serializer can automatically generate the domain object with the annotation for the serializer for you, however, if you have an existing domain object, then using the automatic generation can be intrusive.</div><div id="ww3_21_12_11_14_3_2_4" class="Body">Your serializer/deserializer class should include the following:</div><div id="ww3_21_12_11_14_3_2_6_2" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span>A list of all the namespaces/packages that will be used.</div><div id="ww3_21_12_11_14_3_2_6_4" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span>A class definition consisting of the following methods/functions:</div><div id="ww3_21_12_11_14_3_2_6_4_3_2" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span>serializeKey() - accepts the key and returns the platform-neutral format (PNF) Value</div><div id="ww3_21_12_11_14_3_2_6_4_3_4" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span>deserializeKey() - accepts the PNF Value and returns the key</div><div id="ww3_21_12_11_14_3_2_6_4_3_6" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span>serializeValue() - accepts the object value and returns the PNF ValueObject</div><div id="ww3_21_12_11_14_3_2_6_4_3_8" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span>deserializeValue() - accepts the PNF ValueObject and returns the object value</div><div id="ww3_21_12_11_14_3_2_8" class="Body">The following serializer/deserializer example demonstrates Google Protocol Buffer serialization:</div><div id="ww3_21_12_11_14_3_2_10" class="Preformatted">#include "RecipeProtoBufSerializer.h"<br><br>ValueObject RecipeProtoBufSerializer::serializeKey(std::string &amp;deserializedKey) {<br>    return ValueObject::stringValue(deserializedKey);<br>}<br><br>std::string RecipeProtoBufSerializer::deserializeKey(ValueObject &amp;serializedKey) {<br>    return serializedKey.getString();<br>}<br><br>CacheValue RecipeProtoBufSerializer::serializeValue(RecipeStructure &amp;deserializedValue) {<br>    CacheValue value = CacheValue();<br>    value.setValue(ValueObject::binaryValue(deserializedValue.SerializeAsString()));<br>    std::map&lt;std::string, ValueObject&gt; nvPairs;<br>    nvPairs[KEY_NAME] = ValueObject::stringValue(deserializedValue.name());<br>    value.setNvPairs(nvPairs);<br>    return value;<br>}<br><br>RecipeStructure RecipeProtoBufSerializer::deserializeValue(CacheValue &amp;serializedValue) {<br>    RecipeStructure recipe = RecipeProject::RecipeStructure();<br>    if (serializedValue.isValueSet()) {<br>        recipe.ParseFromString(serializedValue.getValue().getBinary());<br>    }<br>    return recipe;<br>}</div><footer><!-- Related Topics --><!--                --><!-- Back to Top --><!--             --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><br></footer><div><div style="font-family: Arial, Verdana, Helvetica, Sans-Serif; font-size: 11px; margin-top: 20px; margin-bottom: 20px;"><span class="xref"><a href="http://documentation.softwareag.com/legal/" target="external_window">Copyright Â© <span>2010</span><span>-2016</span><span></span><span></span> Software AG, Darmstadt, Germany</a></span>.</div><hr></div><div style="font-family: Arial, Verdana, Helvetica, Sans-Serif; font-size: 13px; font-weight: bold; margin-top: 20px;"><span><img style="vertical-align:middle" src="../connect/terracotta_online.png" alt="Product Logo"><a href="https://empower.softwareag.com/ContactSupport/default.asp" target="_blank">Contact&nbsp;Support</a>
         &nbsp;&nbsp;|&nbsp;&nbsp;
       <a href="http://www.softwareag.com/corporate/community/default.asp" target="_blank">Community</a>
         &nbsp;&nbsp;|&nbsp;&nbsp;
       <a href="mailto://documentation@softwareag.com" target="_blank">Feedback&nbsp;&nbsp;</a></span></div></body></html>