<!DOCTYPE html ><html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8"><meta http-equiv="Content-Style-Type" content="text/css"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>Example: Automatic Resource Control</title><link rel="Prev" href="co-samples_nonstop_rejoin.html" title="Previous"><link rel="Next" href="co-samples_bigmem_as_cache.html" title="Next"><link rel="StyleSheet" href="css/aaa_bigmem_max_all.css" type="text/css" media="all"><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all"><link rel="StyleSheet" href="css/social.css" type="text/css" media="all"><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all"><!--[if IE 7]><link rel="StyleSheet" href="css/aaa_bigmem_max_all_IE7.css" type="text/css" media="all"><![endif]--><link rel="StyleSheet" href="css/print.css" type="text/css" media="print"><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if (window === window.top) {
        // Redirect
        //
        redirect_url = "../index.html#page/bigmemory-max-webhelp/co-samples__arc.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');
            redirect_url += '#' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script></head><body id="pEM483gTZExePhpHSCdw6eg" class="ww_skin_page_body" onload="Page.OnLoad('../index.html#page/bigmemory-max-webhelp/co-samples__arc.html');"><header id="wwconnect_header"><div class="ww_skin_breadcrumbs"><span class="ww_skin_breadcrumbs_parent"><a href="../bigmemory-max-webhelp/to-title_bigmemory_max_code_samples.html#wwconnect_header">Code Samples</a></span><span class="ww_skin_breadcrumbs_divider"> : </span><span class="ww_skin_breadcrumbs_current">Example: Automatic Resource Control</span></div><div class="ww_skin_page_toolbar"></div></header><div id="ww3_15_18_1" class="Heading_1">Example: Automatic Resource Control</div><div class="ww_skin_page_overflow"><table class="note1" summary=""><tr><td class="Table_Cell" style="padding-right: 6px; vertical-align: top"><div id="ww3_15_18_2_2_1_3_1_1_1" class="Note"><span style="font-weight: bold">Note:  </span>&nbsp;</div></td><td class="Table_Cell" style="padding-right: 6px; vertical-align: top"><div id="ww3_15_18_2_2_1_3_1_2" class="Table_Cell">The following description focuses on code snippets from the full code example, which is available at the /code-samples/src/ location in the installed product kit.</div></td></tr></table></div><div id="ww3_15_18_2_4" class="Body">Automatic Resource Control (ARC) is a powerful capability of <span class="ph">BigMemory Max</span> that gives you the ability to control how much data is stored in heap memory and off-heap memory.</div><div id="ww3_15_18_2_6_2" class="Body">The following XML configuration instructs ARC to allocate a maximum of 512 M of heap memory and 8 G of off-heap memory. In this example, when 512 M of heap memory is used, ARC will automatically move data into off-heap memory up to a maximum of 8 G. The amount of off-heap memory you can use is limited only by the amount of physical RAM you have available.</div><div id="ww3_15_18_2_6_4" class="Preformatted">&lt;ehcache xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" <br>     xsi:noNamespaceSchemaLocation="http://ehcache.org/ehcache.xsd" <br>     updateCheck="false" monitoring="autodetect" <br>     dynamicConfig="true" <br>     name="MyManager" maxBytesLocalHeap="512M" <br>     maxBytesLocalOffHeap="8G"&gt; <br>  &lt;defaultCache&gt; <br>  &lt;/defaultCache&gt; <br>  &lt;cache name="BigMemory1"&gt; <br>  &lt;/cache&gt; <br>  &lt;cache name="BigMemory2"&gt; <br>  &lt;/cache&gt; <br>&lt;/ehcache&gt;</div><div id="ww3_15_18_2_6_6" class="Body">This instructs the ARC capability of BigMemory to keep a maximum of 512 MB of its data in heap for nanosecond to microsecond access. In this example, as the 512 MB of heap memory fills up, ARC will automatically move data to the 8 GB off-heap store where it is available at microsecond speed. This configuration keeps heap sizes small to avoid garbage collection pauses and tuning, but still uses large amounts of in-process memory for ultra-fast access to data.</div><div class="ww_skin_page_overflow"><table class="note1" summary=""><tr><td class="Table_Cell" style="padding-right: 6px; vertical-align: top"><div id="ww3_15_18_2_6_8_1_3_1_1_1" class="important"><span style="font-weight: bold">Important:  </span>&nbsp;</div></td><td class="Table_Cell" style="padding-right: 6px; vertical-align: top"><div id="ww3_15_18_2_6_8_1_3_1_2" class="Table_Cell">BigMemory Max is capable of addressing gigabytes to terabytes of in-memory data in a single JVM. However, to avoid swapping, take care not to configure BigMemory Max to use more memory than is physically available on your hardware.</div></td></tr></table></div><div id="ww3_15_18_2_8_2" class="Body">It's also possible to allocate resources on a per-data set basis. Here is an example of allocating 8 GB of off-heap memory to the BigMemory1 data set and 24 GB of off-heap memory to the BigMemory2 data set:</div><div id="ww3_15_18_2_8_4" class="Preformatted">&lt;ehcache xmlns <br> ... <br>     name="MyManager" <br>     maxBytesLocalHeap="512M" <br>     maxBytesLocalOffHeap="32G" <br>     maxBytesLocalDisk="128G"&gt; <br>  &lt;cache name="BigMemory1" <br>         maxBytesLocalOffHeap="8G"&gt; <br>  &lt;/cache&gt; <br>  &lt;cache name="BigMemory2" <br>         maxBytesLocalOffHeap="24G"&gt; <br>  &lt;/cache&gt; <br>&lt;/ehcache&gt;</div><footer><!-- Related Topics --><!--                --><!-- Back to Top --><!--             --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><br></footer><div><div style="font-family: Arial, Verdana, Helvetica, Sans-Serif; font-size: 11px; margin-top: 20px; margin-bottom: 20px;"><span class="xref"><a href="http://documentation.softwareag.com/legal/" target="external_window">Copyright Â© <span>2010</span><span>-2016</span><span></span><span></span> Software AG, Darmstadt, Germany</a></span>.</div><hr></div><div style="font-family: Arial, Verdana, Helvetica, Sans-Serif; font-size: 13px; font-weight: bold; margin-top: 20px;"><span><img style="vertical-align:middle" src="../connect/terracotta_online.png" alt="Product Logo"><a href="https://empower.softwareag.com/ContactSupport/default.asp" target="_blank">Contact&nbsp;Support</a>
         &nbsp;&nbsp;|&nbsp;&nbsp;
       <a href="http://www.softwareag.com/corporate/community/default.asp" target="_blank">Community</a>
         &nbsp;&nbsp;|&nbsp;&nbsp;
       <a href="mailto://documentation@softwareag.com" target="_blank">Feedback&nbsp;&nbsp;</a></span></div></body></html>