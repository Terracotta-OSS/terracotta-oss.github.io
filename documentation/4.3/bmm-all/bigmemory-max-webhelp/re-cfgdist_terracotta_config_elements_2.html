<!DOCTYPE html ><html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8"><meta http-equiv="Content-Style-Type" content="text/css"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>terracotta</title><link rel="Prev" href="re-cfgdist_terracotta_config_elements.html" title="Previous"><link rel="Next" href="re-cfgdist_terracotta_config_elements_3.html" title="Next"><link rel="StyleSheet" href="css/aaa_bigmem_max_all.css" type="text/css" media="all"><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all"><link rel="StyleSheet" href="css/social.css" type="text/css" media="all"><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all"><!--[if IE 7]><link rel="StyleSheet" href="css/aaa_bigmem_max_all_IE7.css" type="text/css" media="all"><![endif]--><link rel="StyleSheet" href="css/print.css" type="text/css" media="print"><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if (window === window.top) {
        // Redirect
        //
        redirect_url = "../index.html#page/bigmemory-max-webhelp/re-cfgdist_terracotta_config_elements_2.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');
            redirect_url += '#' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script></head><body id="pzHE4gG_002b_002fDH2P5CtBH8USsg" class="ww_skin_page_body" onload="Page.OnLoad('../index.html#page/bigmemory-max-webhelp/re-cfgdist_terracotta_config_elements_2.html');"><header id="wwconnect_header"><div class="ww_skin_breadcrumbs"><span class="ww_skin_breadcrumbs_parent"><a href="../bigmemory-max-webhelp/to-title_product_documentation.html#wwconnect_header">Product Documentation</a></span><span class="ww_skin_breadcrumbs_divider"> : </span><span class="ww_skin_breadcrumbs_parent"><a href="../bigmemory-max-webhelp/to-title_bigmemory_max_config_guide.html#wwconnect_header">BigMemory Max Configuration Guide</a></span><span class="ww_skin_breadcrumbs_divider"> : </span><span class="ww_skin_breadcrumbs_parent"><a href="../bigmemory-max-webhelp/to-cfgdist_defining_distributed_configurations.html#wwconnect_header">Defining a Distributed Configuration</a></span><span class="ww_skin_breadcrumbs_divider"> : </span><span class="ww_skin_breadcrumbs_parent"><a href="../bigmemory-max-webhelp/re-cfgdist_terracotta_config_elements.html#wwconnect_header">Terracotta Clustering Configuration Elements</a></span><span class="ww_skin_breadcrumbs_divider"> : </span><span class="ww_skin_breadcrumbs_current">terracotta</span></div><div class="ww_skin_page_toolbar"></div></header><div id="ww3_17_10_17_10_5_2" class="Heading_4">terracotta</div><div id="ww3_17_10_17_10_5_4_2_2" class="Body">The <span class="codeph">&lt;terracotta&gt;</span> element is an optional sub-element of <span class="codeph">&lt;cache&gt;</span>. It can be set differently for each <span class="codeph">&lt;cache&gt;</span> defined in ehcache.xml.</div><div id="ww3_17_10_17_10_5_4_2_4" class="Body"><span class="codeph">&lt;terracotta&gt;</span> has one sub-element, <span class="codeph">&lt;nonstop&gt;</span>. For more information about the <span class="codeph">&lt;nonstop&gt;</span> element, see <span class="heading-page"><a href="../bigmemory-max-webhelp/co-nstop_configuring_nonstop_operation.html#wwconnect_header" title="Configuring Nonstop Cache">Configuring Nonstop Cache</a></span>.</div><div id="ww3_17_10_17_10_5_4_2_6" class="Body">The following <span class="codeph">&lt;terracotta&gt;</span> attribute allows you to control the type of data consistency for the distributed cache:</div><div id="ww3_17_10_17_10_5_4_2_8_2_3" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span><span class="inlinetitle">consistency</span> – Uses no cache-level locks for better performance ("eventual" DEFAULT) or uses cache-level locks for immediate cache consistency ("strong"). When set to "eventual", allows reads without locks, which means the cache may temporarily return stale data in exchange for substantially improved performance. When set to "strong", guarantees that after any update is completed no local read can return a stale value, but at a potentially high cost to performance, because a large number of locks may need to be stored in client and server heaps.</div><div id="ww3_17_10_17_10_5_4_2_8_2_5" class="List_1_Continued">Once set, this consistency mode cannot be changed except by reconfiguring the cache using a configuration file and reloading the file. <span class="emphasis">This setting cannot be changed programmatically.</span> For more information, see <span class="heading-page"><a href="../bigmemory-max-webhelp/co-cfgdist_consistency_modes.html#wwconnect_header" title="Consistency Modes">Consistency Modes</a></span>.</div><div id="ww3_17_10_17_10_5_4_2_10" class="Body">Except for special cases, the following <span class="codeph">&lt;terracotta&gt;</span> attributes should operate with their default values:</div><div id="ww3_17_10_17_10_5_4_2_12_2" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span><span class="inlinetitle">clustered</span> – Enables ("true" DEFAULT) or disables ("false") Terracotta clustering of a specific cache. Clustering is enabled if this attribute is not specified. Disabling clustering also disables the effects of all of the other attributes.</div><div id="ww3_17_10_17_10_5_4_2_12_4" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span><span class="inlinetitle">localCacheEnabled</span> – Enables ("true" DEFAULT) or disables ("false") local caching of distributed cache data, forcing all of that cached data to reside on the Terracotta Server Array. Disabling local caching may improve performance for distributed caches in write-heavy use cases.</div><div id="ww3_17_10_17_10_5_4_2_12_6" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span><span class="inlinetitle">synchronousWrites</span> – Enables ("true") or disables ("false" DEFAULT) synchronous writes from Terracotta clients (application servers) to Terracotta servers. Asynchronous writes (synchronousWrites="false") maximize performance by allowing clients to proceed without waiting for a "transaction received" acknowledgment from the server. This acknowledgment is unnecessary in most use cases. Synchronous writes (synchronousWrites="true") provide extreme data safety but at a performance cost by requiring that a client receive server acknowledgment of a transaction before that client can proceed. If the cache's consistency mode is eventual, or while it is set to bulk load using the bulk-load API, only asynchronous writes can occur (synchronousWrites="true" is ignored).</div><div id="ww3_17_10_17_10_5_4_2_12_8" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span><span class="inlinetitle">concurrency</span> – Sets the number of segments for the map backing the underlying server store managed by the Terracotta Server Array. If concurrency is not explicitly set (or set to "0"), the system selects an optimized value. </div><div id="ww3_17_10_17_10_5_4_2_14" class="Body">The following attributes are used with Hibernate:</div><div id="ww3_17_10_17_10_5_4_2_16_2" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span><span class="inlinetitle">localKeyCache</span> – Enables ("true") or disables ("false" DEFAULT) a local key cache. BigMemory Max can cache a "hotset" of keys on clients to add locality-of-reference, a feature suitable for read-only cases. Note that the set of keys must be small enough for available memory.</div><div id="ww3_17_10_17_10_5_4_2_16_4" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span><span class="inlinetitle">localKeyCacheSize</span> – Defines the size of the local key cache in number (positive integer) of elements. In effect if localKeyCache is enabled. The default value, 300000, should be tuned to meet application requirements and environmental limitations.</div><div id="ww3_17_10_17_10_5_4_2_16_6" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span><span class="inlinetitle">orphanEviction</span> – Enables ("true" DEFAULT) or disables ("false") orphan eviction. <span class="emphasis">Orphans</span> are cache elements that are not resident in any Hibernate second-level cache but still present on the cluster's Terracotta server instances.</div><div id="ww3_17_10_17_10_5_4_2_16_8" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span><span class="inlinetitle">orphanEvictionPeriod</span> – The number of local eviction cycles (that occur on Hibernate) that must be completed before an orphan eviction can take place. The default number of cycles is 4. Raise this value for less aggressive orphan eviction that can reduce faulting on the Terracotta server, or lower it if garbage on the Terracotta server is a concern.</div><div id="ww3_17_10_17_10_5_4_4_2" class="Section_Title">Default Behavior</div><div id="ww3_17_10_17_10_5_4_4_4" class="Body">By default, adding <span class="codeph">&lt;terracotta/&gt;</span> to a <span class="codeph">&lt;cache&gt;</span> block is equivalent to adding the following:</div><div id="ww3_17_10_17_10_5_4_4_6" class="Preformatted">&lt;cache name="sampleTerracottaCache" <br>    maxEntriesLocalHeap="1000" <br>    eternal="false" <br>    timeToIdleSeconds="3600" <br>    timeToLiveSeconds="1800""&gt; <br>  &lt;persistence strategy="distributed"/&gt; <br>  &lt;terracotta clustered="true" consistency="eventual" /&gt; <br>&lt;/cache&gt;</div><footer><!-- Related Topics --><!--                --><!-- Back to Top --><!--             --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><br></footer><div><div style="font-family: Arial, Verdana, Helvetica, Sans-Serif; font-size: 11px; margin-top: 20px; margin-bottom: 20px;"><span class="xref"><a href="http://documentation.softwareag.com/legal/" target="external_window">Copyright © <span>2010</span><span>-2016</span><span></span><span></span> Software AG, Darmstadt, Germany</a></span>.</div><hr></div><div style="font-family: Arial, Verdana, Helvetica, Sans-Serif; font-size: 13px; font-weight: bold; margin-top: 20px;"><span><img style="vertical-align:middle" src="../connect/terracotta_online.png" alt="Product Logo"><a href="https://empower.softwareag.com/ContactSupport/default.asp" target="_blank">Contact&nbsp;Support</a>
         &nbsp;&nbsp;|&nbsp;&nbsp;
       <a href="http://www.softwareag.com/corporate/community/default.asp" target="_blank">Community</a>
         &nbsp;&nbsp;|&nbsp;&nbsp;
       <a href="mailto://documentation@softwareag.com" target="_blank">Feedback&nbsp;&nbsp;</a></span></div></body></html>