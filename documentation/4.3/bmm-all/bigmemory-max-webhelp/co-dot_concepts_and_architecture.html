<!DOCTYPE html ><html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8"><meta http-equiv="Content-Style-Type" content="text/css"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>Concepts and Architecture</title><link rel="Prev" href="to-dot_dot_net_clients.html" title="Previous"><link rel="Next" href="co-dot_installing_the_client.html" title="Next"><link rel="StyleSheet" href="css/aaa_bigmem_max_all.css" type="text/css" media="all"><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all"><link rel="StyleSheet" href="css/social.css" type="text/css" media="all"><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all"><!--[if IE 7]><link rel="StyleSheet" href="css/aaa_bigmem_max_all_IE7.css" type="text/css" media="all"><![endif]--><link rel="StyleSheet" href="css/print.css" type="text/css" media="print"><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if (window === window.top) {
        // Redirect
        //
        redirect_url = "../index.html#page/bigmemory-max-webhelp/co-dot_concepts_and_architecture.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');
            redirect_url += '#' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script></head><body id="pN95PHW27dQq_002bCdpY_002fJjCl1Q" class="ww_skin_page_body" onload="Page.OnLoad('../index.html#page/bigmemory-max-webhelp/co-dot_concepts_and_architecture.html');"><header id="wwconnect_header"><div class="ww_skin_breadcrumbs"><span class="ww_skin_breadcrumbs_parent"><a href="../bigmemory-max-webhelp/to-title_component_documentation.html#wwconnect_header">Component Documentation</a></span><span class="ww_skin_breadcrumbs_divider"> : </span><span class="ww_skin_breadcrumbs_parent"><a href="../bigmemory-max-webhelp/to-title_ccl_user_guide.html#wwconnect_header">Cross-Language Clients User Guide</a></span><span class="ww_skin_breadcrumbs_divider"> : </span><span class="ww_skin_breadcrumbs_parent"><a href="../bigmemory-max-webhelp/to-dot_dot_net_clients.html#wwconnect_header">BigMemory .NET Client</a></span><span class="ww_skin_breadcrumbs_divider"> : </span><span class="ww_skin_breadcrumbs_current">Concepts and Architecture</span></div><div class="ww_skin_page_toolbar"></div></header><div id="ww3_21_12_9_8_1" class="Heading_3">Concepts and Architecture</div><div id="ww3_21_12_9_8_3_2_2" class="Body">The BigMemory .NET Client and Cross-Language Connector give you interoperability between your C# application and other platforms by providing access to BigMemory in-memory data. The client and connector may also be used in a single-language environment for fast, reliable access to BigMemory in-memory data.</div><div id="ww3_21_12_9_8_3_4_2" class="Section_Title">Interoperable Access to In-Memory Data</div><div id="ww3_21_12_9_8_3_4_4" class="Body">BigMemory Cross-Language Clients provide access to data from multiple platforms. Supported platforms can interoperate using the same data. For example, a Java application can read data added by a C# client, and vice versa. The BigMemory Clients also allow searching of the BigMemory data. There is no additional piece of infrastructure required.</div><div id="ww3_21_12_9_8_3_4_6" class="Body">A Java VM is set up on the same hardware that hosts the other platform's code. This VM will host the Cross-Language Connector and the BigMemory instance. The Cross-Language Connector runs as a JVM process that talks to the BigMemory instance and opens the communication channel between other processes and BigMemory. The Cross-Language Connector runs as any other Terracotta client (L1) from the cluster perspective, but it allows other processes to connect to it using a well-defined protocol and API.</div><div id="ww3_21_12_9_8_3_4_8" class="Body">The BigMemory (.Net or C++) Client connects and accesses data stored in BigMemory. The BigMemory Client is a library which is installed on the target platform in the appropriate path. Within the target application, the API is used to talk to the VM.</div><div id="ww3_21_12_9_8_3_4_10" class="Body">Figure 1 below illustrates a topology where multiple clients share one Cross-Language Connector. The BigMemory Client is added to the application, and then the Cross-Language Connector provides access to the BigMemory in-memory data.</div><div id="ww3_21_12_9_8_3_4_12_2" class="Figure_Title">Figure 1. Cross-Language Topology, Example 1</div><div class="ww_skin_page_overflow"><div id="ww3_21_12_9_8_3_4_12-2" class="Figure"><img class="Default" src="../bigmemory-max-webhelp/images/clc_share.png" style="display: block; float: none" alt=""></div></div><div id="ww3_21_12_9_8_3_4_14" class="Body">Figure 2 below illustrates a topology with multiple Cross-Language Connectors. Hosting the CL Connector on the same machine as your application may have the advantage of keeping your data closer and reducing latency. Each CL Connector requires its own CacheManager, so this topology may be a good approach for keeping discrete data sets available to different applications.</div><div id="ww3_21_12_9_8_3_4_16_2" class="Figure_Title">Figure 2. Cross-Language Topology, Example 2</div><div class="ww_skin_page_overflow"><div id="ww3_21_12_9_8_3_4_16-2" class="Figure"><img class="Default" src="../bigmemory-max-webhelp/images/clc.png" style="display: block; float: none" alt=""></div></div><div id="ww3_21_12_9_8_3_4_18" class="Body">Factors to consider when designing your topology include: your data access patterns, how data is shared among your applications, the amount of memory you have, and the amount of data that you want keep in memory.</div><div id="ww3_21_12_9_8_3_4_20" class="Body">Figure 3 below illustrates the flow of data through the Cross-Language Connector.</div><div id="ww3_21_12_9_8_3_4_22_2" class="Figure_Title">Figure 3. BigMemory Cross-Language Clients' Data Flow</div><div class="ww_skin_page_overflow"><div id="ww3_21_12_9_8_3_4_22-2" class="Figure"><img class="Default" src="../bigmemory-max-webhelp/images/clc-workflow-1.png" style="display: block; float: none" alt=""></div></div><div id="ww3_21_12_9_8_3_4_24_2" class="Numbered_1"><span class="WebWorks_Number" style="width: 18pt"><span>1. </span></span>Data from a C# or C++ client application can be stored in BigMemory using the BigMemory Client. A <span class="apiname">put</span> from a BigMemory Client is converted into platform-neutral format (PNF). It is then transported to the Cross-Language Connector and put into BigMemory, either directly or after serialization, depending upon the use case.</div><div id="ww3_21_12_9_8_3_4_24_4" class="Numbered_1"><span class="WebWorks_Number" style="width: 18pt"><span>2. </span></span>Data can be retrieved from BigMemory by the same client or by a different client. A <span class="apiname">get</span> from the client retrieves the serialized object from BigMemory and deserializes it, making the Domain Object available to the client.</div><div id="ww3_21_12_9_8_3_4_24_6" class="Numbered_1"><span class="WebWorks_Number" style="width: 18pt"><span>3. </span></span>You may also have a Java client, which can store and access BigMemory data in either of these ways:</div><div id="ww3_21_12_9_8_3_4_24_6_3_2" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span>If the BigMemory data is primarily in platform-neutral format (PNF), use the Ehcache API through a CacheSerializer that lazily serializes/deserializes the data for use with your Java application.</div><div id="ww3_21_12_9_8_3_4_24_6_3_4" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span>If the BigMemory data is primarily in Java format, use the Ehcache API directly from Java. (F) In this case, the Cross-Language Connector for .NET or C++ clients should include a Java CacheSerializer.</div><div id="ww3_21_12_9_8_3_6_2" class="Section_Title">Single-Language Environments</div><div id="ww3_21_12_9_8_3_6_4" class="Body">The BigMemory Cross-Language Clients can also be used for fast and reliable access to in-memory data that has been stored in BigMemory in the native format of your application. This type of installation can be used in homogenous .NET or C++ environments, where interoperability with data in other formats is not required.</div><div id="ww3_21_12_9_8_3_6_6" class="Body">Figure 4 below illustrates the flow of data through the Cross-Language Connector in a single-language environment.</div><div id="ww3_21_12_9_8_3_6_8_2" class="Figure_Title">Figure 4. Single-Language Data Flow</div><div class="ww_skin_page_overflow"><div id="ww3_21_12_9_8_3_6_8-2" class="Figure"><img class="Default" src="../bigmemory-max-webhelp/images/clc-workflow-2.png" style="display: block; float: none" alt=""></div></div><div id="ww3_21_12_9_8_3_6_10_2" class="Numbered_1"><span class="WebWorks_Number" style="width: 18pt"><span>1. </span></span>Data from a .NET client application can be stored in BigMemory using the BigMemory Client. A <span class="apiname">put</span> from a BigMemory Client is serialized and then transported to the Cross-Language Connector and put into BigMemory.</div><div id="ww3_21_12_9_8_3_6_10_4" class="Numbered_1"><span class="WebWorks_Number" style="width: 18pt"><span>2. </span></span>Data can be retrieved from BigMemory by the same client or by a different client. A <span class="apiname">get</span> from the client retrieves the serialized object from BigMemory and deserializes it, making the Domain Object available to the client.</div><div id="ww3_21_12_9_8_3_8_2" class="Section_Title">Components</div><div id="ww3_21_12_9_8_3_8_4" class="Body"><span class="emphasis">Cross-Language Connector</span> - The CL Connector is configured with the <span class="filepath">cross-lang-config.xml</span> file, and it accesses BigMemory data that is contained in caches that have been defined in the <span class="filepath">ehcache.xml</span> file. Each CL Connector needs its own CacheManager, and if you want more than one CacheManager, you will need as many CL Connectors.</div><div id="ww3_21_12_9_8_3_8_6" class="Body"><span class="emphasis">BigMemory Client for each platform (.NET or C++)</span> - The BigMemory Client is specific to a platform (for example, C++, C#, etc.). It will convert data from the platform into platform-neutral format and send it to the CL Connector.</div><div id="ww3_21_12_9_8_3_10_2" class="Section_Title">Deployment</div><div id="ww3_21_12_9_8_3_10_4" class="Body">BigMemory Cross-Language support is provided as a client-server model. One server potentially connects to a Terracotta Server Array (TSA) but could also be a standalone "caching server." Typically, in order to minimize latency, the server would run on the same hardware as the client(s). You can have one or more clients' processes then connecting to that server.</div><div id="ww3_21_12_9_8_3_10_6" class="Body">The two main CL Connector deployments are:</div><div id="ww3_21_12_9_8_3_10_8_2" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span>As a standalone server process that runs in its own dedicated Java Virtual Machine. A standalone CL Connector is started and stopped using the batch or shell scripts provided in the kit.</div><div id="ww3_21_12_9_8_3_10_8_4" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span>As an embedded server process within the CacheManager used by an existing Ehcache application. An embedded CL Connector is configured by making simple changes to the <span class="filepath">ehcache.xml</span> file, and then it is started and stopped via your application.</div><div id="ww3_21_12_9_8_3_12_2" class="Section_Title">Platform-neutral Format and Serialization</div><div id="ww3_21_12_9_8_3_12_4" class="Body">The platform-neutral format (PNF) is a Thrift-based, opaque, binary format that is used for wire transport between platforms. PNF objects can be trivially stored by BigMemory and the Terracotta Server Array. PNF data has the following characteristics:</div><div id="ww3_21_12_9_8_3_12_6_2" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span>Consists of well-defined primitive types (string, integer, float, date, byte[], etc.)</div><div id="ww3_21_12_9_8_3_12_6_4" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span>Keys are mapped to some type of primitive</div><div id="ww3_21_12_9_8_3_12_6_6" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span>Values are comprised of two parts:</div><div id="ww3_21_12_9_8_3_12_6_6_3_2" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span>Binary byte array, opaque to Ehcache</div><div id="ww3_21_12_9_8_3_12_6_6_3_4" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span>Map of String::<span class="codeph">&lt;primitive type&gt;</span> used for indexing/search</div><div id="ww3_21_12_9_8_3_12_8" class="Body">Data that will be shared across languages needs to be serialized. Cross-Language CacheSerializers are implementations which take a platform domain object and transform it into a platform-neutral format, and also perform the operation in reverse, from PNF back to the original format. In a mixed platform deployment, CacheSerializers need to be written for each platform, in the platform language.</div><div id="ww3_21_12_9_8_3_12_10" class="Body">The choice of which serializer to use depends upon your environment. Some planning and consideration needs to go into the choice of a serializer, as there are pros and cons related to each. For more information, refer to <span class="xref"><a href="../bigmemory-max-webhelp/co-dot_client_serialization.html#wwconnect_header" title=".NET Client Serialization">Cross-Language Serialization</a></span>.</div><div id="ww3_21_12_9_8_3_12_12" class="Body">In single-language environments, PNF is not necessary, and native serialization is used to interact with the CL Connector. For data that will be stored in its native format, you can get started without writing any serialization code by using the provided native serializer class. For more information, refer to <span class="xref"><a href="../bigmemory-max-webhelp/co-dot_client_serialization.html#ww3_21_12_9_18_3_8_2" title=".NET Client Serialization">Single-Language Serialization</a></span>.</div><footer><!-- Related Topics --><!--                --><!-- Back to Top --><!--             --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><br></footer><div><div style="font-family: Arial, Verdana, Helvetica, Sans-Serif; font-size: 11px; margin-top: 20px; margin-bottom: 20px;"><span class="xref"><a href="http://documentation.softwareag.com/legal/" target="external_window">Copyright © <span>2010</span><span>-2016</span><span></span><span></span> Software AG, Darmstadt, Germany</a></span>.</div><hr></div><div style="font-family: Arial, Verdana, Helvetica, Sans-Serif; font-size: 13px; font-weight: bold; margin-top: 20px;"><span><img style="vertical-align:middle" src="../connect/terracotta_online.png" alt="Product Logo"><a href="https://empower.softwareag.com/ContactSupport/default.asp" target="_blank">Contact&nbsp;Support</a>
         &nbsp;&nbsp;|&nbsp;&nbsp;
       <a href="http://www.softwareag.com/corporate/community/default.asp" target="_blank">Community</a>
         &nbsp;&nbsp;|&nbsp;&nbsp;
       <a href="mailto://documentation@softwareag.com" target="_blank">Feedback&nbsp;&nbsp;</a></span></div></body></html>