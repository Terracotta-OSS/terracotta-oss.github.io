<!DOCTYPE html ><html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8"><meta http-equiv="Content-Style-Type" content="text/css"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>Configuration in a Development Environment</title><link rel="Prev" href="co-cfg_how_clients_get_configured.html" title="Previous"><link rel="Next" href="co-cfg_config_in_a_prod_environment.html" title="Next"><link rel="StyleSheet" href="css/aaa_bigmem_max_all.css" type="text/css" media="all"><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all"><link rel="StyleSheet" href="css/social.css" type="text/css" media="all"><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all"><!--[if IE 7]><link rel="StyleSheet" href="css/aaa_bigmem_max_all_IE7.css" type="text/css" media="all"><![endif]--><link rel="StyleSheet" href="css/print.css" type="text/css" media="print"><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if (window === window.top) {
        // Redirect
        //
        redirect_url = "../index.html#page/bigmemory-max-webhelp/co-cfg_config_in_a_dev_environment.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');
            redirect_url += '#' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script></head><body id="pN08NUF6aEj0LZXaiekbvYyg" class="ww_skin_page_body" onload="Page.OnLoad('../index.html#page/bigmemory-max-webhelp/co-cfg_config_in_a_dev_environment.html');"><header id="wwconnect_header"><div class="ww_skin_breadcrumbs"><span class="ww_skin_breadcrumbs_parent"><a href="../bigmemory-max-webhelp/to-title_product_documentation.html#wwconnect_header">Product Documentation</a></span><span class="ww_skin_breadcrumbs_divider"> : </span><span class="ww_skin_breadcrumbs_parent"><a href="../bigmemory-max-webhelp/to-title_bigmemory_max_admin_guide.html#wwconnect_header">BigMemory Max Administrator Guide</a></span><span class="ww_skin_breadcrumbs_divider"> : </span><span class="ww_skin_breadcrumbs_parent"><a href="../bigmemory-max-webhelp/to-cfg_configuring_the_tsa.html#wwconnect_header">Configuring the Terracotta Server Array</a></span><span class="ww_skin_breadcrumbs_divider"> : </span><span class="ww_skin_breadcrumbs_current">Configuration in a Development Environment</span></div><div class="ww_skin_page_toolbar"></div></header><div id="ww3_17_12_11_12_1" class="Heading_3">Configuration in a Development Environment</div><div id="ww3_17_12_11_12_3_2" class="Body">In a development environment, using a different configuration file for each Terracotta client facilitates the testing and tuning of configuration options. This is an efficient and effective way to gain valuable insight on best practices for clustering your application with Terracotta.</div><div id="ww3_17_12_11_12_3_4_2" class="Section_Title">One-Server Setup in Development</div><div id="ww3_17_12_11_12_3_4_4" class="Body">For one Terracotta server, the default configuration is adequate.</div><div class="ww_skin_page_overflow"><div id="ww3_17_12_11_12_3_4-4" class="Section"><img class="Default" src="../bigmemory-max-webhelp/images/tc-config-dev-a.png" style="display: inline; float: none" alt=""></div></div><div id="ww3_17_12_11_12_3_4_7" class="Body">To use the default configuration settings, start your Terracotta server using the <span class="filepath">start-tc-server.sh</span> (or <span class="filepath">start-tc-server.bat</span>) script in a directory that does <span class="emphasis">not</span> contain the file <span class="filepath">tc-config.xml</span> :</div><div id="ww3_17_12_11_12_3_4_9" class="Preformatted"> [PROMPT] ${TERRACOTTA_HOME}\bin\start-tc-server.sh</div><div id="ww3_17_12_11_12_3_4_11" class="Body">To specify a configuration file, use one of the approaches discussed in <span class="xref"><a href="../bigmemory-max-webhelp/co-cfg_how_servers_get_configured.html#wwconnect_header" title="How Terracotta Servers Get Configured">How Terracotta Servers Get Configured</a></span>.</div><div id="ww3_17_12_11_12_3_6_2" class="Section_Title">Two-Server Setup in Development</div><div id="ww3_17_12_11_12_3_6_4" class="Body">A two-server setup, sometimes referred to as an active-mirror setup, has one active server instance and one "hot standby" (the mirror) that should load the same configuration file.</div><div class="ww_skin_page_overflow"><div id="ww3_17_12_11_12_3_6-4" class="Section"><img class="Default" src="../bigmemory-max-webhelp/images/tc-config-dev-ap.png" style="display: inline; float: none" alt=""></div></div><div id="ww3_17_12_11_12_3_6_7" class="Body">The configuration file loaded by the Terracotta servers must define each server separately using &lt;server&gt; elements. For example:</div><div id="ww3_17_12_11_12_3_6_9" class="Preformatted">&lt;tc:tc-config xsi:schemaLocation="http://www.terracotta.org/schema/terracotta-9.xsd"<br>xmlns:tc="http://www.terracotta.org/config"<br>xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&gt;<br>...<br>&lt;!-- Use an IP address or a resolvable host name for the host attribute. --&gt;<br>  &lt;server host="123.456.7.890" name="Server1"&gt;<br>...<br>  &lt;server host="myResolvableHostName" name="Server2"&gt;<br>...<br>&lt;/tc:tc-config&gt;</div><div id="ww3_17_12_11_12_3_6_11" class="Body">Assuming Server1 is the active server, using the same configuration allows Server2 to be the mirror and maintain the environment in case of failover. When running both servers on the same host, the &lt;tsa-port&gt; for each server should be different. The other ports are automatically generated from the &lt;tsa-port&gt;. Having a separate log location is a good idea, but failing to do so will not prevent the servers from starting. If the servers are set up to be restartable, setting the data directory to a different location would be a requirement.</div><div id="ww3_17_12_11_12_3_8_2" class="Section_Title">Server Names for Startup</div><div id="ww3_17_12_11_12_3_8_4" class="Body">With multiple &lt;server&gt; elements, the name attribute may be required to avoid ambiguity when starting a server:</div><div id="ww3_17_12_11_12_3_8_6" class="Preformatted"> start-tc-server.sh -n Server1 -f &lt;path_to_configuration_file&gt;</div><div id="ww3_17_12_11_12_3_8_8" class="Body">In Microsoft Windows, use <span class="filepath">start-tc-server.bat</span>.</div><div id="ww3_17_12_11_12_3_8_10" class="Body">For example, if you are running Terracotta server instances on the same host, you must specify the name attribute to set an unambiguous target for the script.</div><div id="ww3_17_12_11_12_3_8_12" class="Body">However, if you are starting Terracotta server instances in an unambiguous setup, specifying the server name is optional. For example, if the Terracotta configuration file specifies different IP addresses for each server, the script assumes that the server with the IP address corresponding to the local IP address is the target.</div><div id="ww3_17_12_11_12_3_10_2" class="Section_Title">Clients in Development</div><div id="ww3_17_12_11_12_3_10_4" class="Body">You can explicitly specify a client's Terracotta configuration file by passing <span class="parmname">-Dtc.config=path/to/my-tc-config.xml</span> when you start your application with the Terracotta client.</div><div id="ww3_17_12_11_12_3_10_6" class="Preformatted"> -Dtc.config=path/to/my-tc-config.xml -cp classes myApp.class.Main</div><div id="ww3_17_12_11_12_3_10_8" class="Body">where <span class="codeph">myApp.class.Main</span> is the class used to launch the application you want to cluster with Terracotta.</div><div id="ww3_17_12_11_12_3_10_10" class="Body">If <span class="filepath">tc-config.xml</span> exists in the directory in which you run Java, it can be loaded without <span class="parmname">-Dtc.config</span>.</div><footer><!-- Related Topics --><!--                --><!-- Back to Top --><!--             --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><br></footer><div><div style="font-family: Arial, Verdana, Helvetica, Sans-Serif; font-size: 11px; margin-top: 20px; margin-bottom: 20px;"><span class="xref"><a href="http://documentation.softwareag.com/legal/" target="external_window">Copyright Â© <span>2010</span><span>-2016</span><span></span><span></span> Software AG, Darmstadt, Germany</a></span>.</div><hr></div><div style="font-family: Arial, Verdana, Helvetica, Sans-Serif; font-size: 13px; font-weight: bold; margin-top: 20px;"><span><img style="vertical-align:middle" src="../connect/terracotta_online.png" alt="Product Logo"><a href="https://empower.softwareag.com/ContactSupport/default.asp" target="_blank">Contact&nbsp;Support</a>
         &nbsp;&nbsp;|&nbsp;&nbsp;
       <a href="http://www.softwareag.com/corporate/community/default.asp" target="_blank">Community</a>
         &nbsp;&nbsp;|&nbsp;&nbsp;
       <a href="mailto://documentation@softwareag.com" target="_blank">Feedback&nbsp;&nbsp;</a></span></div></body></html>