<!DOCTYPE html ><html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8"><meta http-equiv="Content-Style-Type" content="text/css"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>Troubleshooting Questions</title><link rel="Prev" href="co-faq_bigmem_max_env_interop_questions.html" title="Previous"><link rel="Next" href="co-faq_bigmem_max_specific_errors.html" title="Next"><link rel="StyleSheet" href="css/aaa_bigmem_max_all.css" type="text/css" media="all"><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all"><link rel="StyleSheet" href="css/social.css" type="text/css" media="all"><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all"><!--[if IE 7]><link rel="StyleSheet" href="css/aaa_bigmem_max_all_IE7.css" type="text/css" media="all"><![endif]--><link rel="StyleSheet" href="css/print.css" type="text/css" media="print"><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if (window === window.top) {
        // Redirect
        //
        redirect_url = "../index.html#page/bigmemory-max-webhelp/co-faq_bigmem_max_troubleshooting_questions.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');
            redirect_url += '#' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script></head><body id="pN288PG6uTqoi6YWuKtdNgvw" class="ww_skin_page_body" onload="Page.OnLoad('../index.html#page/bigmemory-max-webhelp/co-faq_bigmem_max_troubleshooting_questions.html');"><header id="wwconnect_header"><div class="ww_skin_breadcrumbs"><span class="ww_skin_breadcrumbs_parent"><a href="../bigmemory-max-webhelp/to-title_bigmemory_max_faq.html#wwconnect_header">FAQ</a></span><span class="ww_skin_breadcrumbs_divider"> : </span><span class="ww_skin_breadcrumbs_current">Troubleshooting Questions</span></div><div class="ww_skin_page_toolbar"></div></header><div id="ww3_25_12_1" class="Heading_1">Troubleshooting Questions</div><div id="ww3_25_12_2_2_2" class="Section_Title">After my application interrupted a thread (or threw InterruptedException), why did the Terracotta client die?</div><div id="ww3_25_12_2_2_4" class="Body">The Terracotta client library runs with your application and is often involved in operations which your application is not necessarily aware of. These operations may get interrupted, too, which is not something the Terracotta client can anticipate. Ensure that your application does not interrupt clustered threads. This is a common error that can cause the Terracotta client to shut down or go into an error state, after which it will have to be restarted.</div><div id="ww3_25_12_2_4_2" class="Section_Title">Why does the cluster seem to be running more slowly?</div><div id="ww3_25_12_2_4_4" class="Body">There can be many reasons for a cluster that was performing well to slow down over time. The most common reason for slowdowns is Java Garbage Collection (GC) cycles. Another reason may be that near-memory-full conditions have been reached, and the TSA needs to clear space for continued operations by additional evictions. For more information, see <span class="heading-no-quotes"><a href="../bigmemory-max-webhelp/to-full_managing_memory_full_conditions.html#wwconnect_header" title="Managing Near-Memory-Full Conditions">Managing Near-Memory-Full Conditions</a></span>.</div><div id="ww3_25_12_2_4_6" class="Body">Another possible cause is when an active server is syncing with a mirror server. If the active is under substantial load, it may be slowed by syncing process. In addition, the syncing process itself may appear to slow down. This can happen when the mirror is waiting for specific sequenced data before it can proceed, indicated by log messages similar to the following:</div><div id="ww3_25_12_2_4_8" class="Preformatted">WARN com.tc.l2.ha.L2HACoordinator - 10 messages in pending queue. <br>      Message with ID 2273677 is missing still</div><div id="ww3_25_12_2_4_10" class="Body">If the message ID in the log entries changes over time, no problems are indicated by these warnings.</div><div id="ww3_25_12_2_4_12" class="Body">Another indication that slowdowns are occurring on the server and that clients are throttling their transaction commits is the appearance of the following entry in client logs:</div><div id="ww3_25_12_2_4_14" class="Preformatted">INFO com.tc.object.tx.RemoteTransactionManagerImpl - ClientID[2](: <br>      TransactionID=[65037) : Took more than 1000ms to add to sequencer : 1497 ms <br></div><div id="ww3_25_12_2_6_2" class="Section_Title">Why do all of my objects disappear when I restart the server?</div><div id="ww3_25_12_2_6_4" class="Body">If you are not running the server in restartable mode, the server will remove the object data when it restarts. If you want object data to persist across server restarts, run the server in restartable mode. For information, see <span class="heading-no-quotes"><a href="../bigmemory-max-webhelp/to-fast_configuring_fast_restart.html#wwconnect_header" title="Configuring Fast Restart (FRS)">Configuring Fast Restart (FRS)</a></span>.</div><div id="ww3_25_12_2_8_2" class="Section_Title">Why are old objects still there when I restart the server?</div><div id="ww3_25_12_2_8_4" class="Body">If you are running the server in restartable mode, the server keeps the object data across restarts. If you want objects to disappear when you restart the server, you can either disable restartable mode or remove the data files from disk before you restart the server. See <span class="xref"><a href="../bigmemory-max-webhelp/co-faq_bigmem_max_config_dev_oper_questionds.html#ww3_25_8_2_2_2" title="Configuration, Development and Operations Questions">the FAQ question "How do I enable restartable mode?"</a></span></div><div id="ww3_25_12_2_10_2" class="Section_Title">Why can't certain nodes on my Terracotta cluster see each other on the network?</div><div id="ww3_25_12_2_10_4" class="Body">A firewall may be preventing different nodes on a cluster from seeing each other. If Terracotta clients attempt to connect to a Terracotta server, for example, but the server seems to not have any knowledge of these attempts, the clients may be blocked by a firewall. Another example is a backup Terracotta server that comes up as the active server because it is separated from the active server by a firewall.</div><div id="ww3_25_12_2_12_2" class="Section_Title">Client and/or server nodes are exiting regularly without reason.</div><div id="ww3_25_12_2_12_4" class="Body">Client or server processes that quit ("L1 Exiting" or "L2 Exiting" in logs) for seemingly no visible reason may have been running in a terminal session that has been terminated. The parent process must be maintained for the life of the node process, or use another workaround such as the <span class="codeph">nohup</span> option.</div><div id="ww3_25_12_2_14_2" class="Section_Title">I have a setup with one active Terracotta server instance and a number of standbys, so why am I getting errors because more than one active server comes up?</div><div id="ww3_25_12_2_14_4" class="Body">Due to network latency or load, the Terracotta server instances may not may be have adequate time to hold an election. Increase the <span class="codeph">&lt;election-time&gt;</span> property in the Terracotta configuration file to the lowest value that solves this issue.</div><div id="ww3_25_12_2_14_6" class="Body">If you are running on Ubuntu, see the note at the end of the <span class="xref"><a href="../bigmemory-max-webhelp/co-faq_bigmem_max_specific_errors.html#ww3_25_14_2_12_2" title="Specific Errors and Warnings">UnknownHostException</a></span> topic in the section <span class="xref"><a href="../bigmemory-max-webhelp/co-faq_bigmem_max_specific_errors.html#wwconnect_header" title="Specific Errors and Warnings">Specific Errors and Warnings</a></span>.</div><div id="ww3_25_12_2_16_2" class="Section_Title">I have a cluster with more than one stripe (more than one active Terracotta server) but data is distributed very unevenly between the two stripes.</div><div id="ww3_25_12_2_16_4" class="Body">The Terracotta Server Array distributes data based on the hashcode of keys. To enhance performance, each server stripe should contain approximately the same amount of data. A grossly uneven distribution of data on Terracotta servers in a cluster with more than one active server can be an indication that keys are not being hashed well. If your application is creating keys of a type that does not hash well, this may be the cause of the uneven distribution.</div><div id="ww3_25_12_2_18_2" class="Section_Title">Why is a crashed Terracotta server instance failing to come up when I restart it?</div><div id="ww3_25_12_2_18_4" class="Body">If running in restartable mode, the ACTIVE Terracotta server instance should come up with all shared data intact. However, if the server's database has somehow become corrupt, you must clear the crashed server's data directory before restarting.</div><div id="ww3_25_12_2_20_2" class="Section_Title">I lost some data after my entire cluster lost power and went down. How can I ensure that all data persists through a failure?</div><div id="ww3_25_12_2_20_4" class="Body">If only some data was lost, then Terracotta servers were configured to persist data. The cause for losing a small amount of data could be disk "write" caching on the machines running the Terracotta server instances. If every Terracotta server instance lost power when the cluster went down, data remaining in the disk cache of each machine is lost.</div><div id="ww3_25_12_2_20_6" class="Body">Turning off disk caching is not an optimal solution because the machines running Terracotta server instances will suffer a substantial performance degradation. A better solution is to ensure that power is never interrupted at any one time to every Terracotta server instance in the cluster. This can be achieved through techniques such as using uninterruptible power supplies and geographically subdividing cluster members.</div><div id="ww3_25_12_2_22_2" class="Section_Title">Do I have to restart Terracotta clients after redeploying in a container?</div><div id="ww3_25_12_2_22_4" class="Body">Errors could occur if a client runs with a web application that has been redeployed, causing the client to not start properly or at all. If the web application is redeployed, be sure to restart the client.</div><div id="ww3_25_12_2_24_2" class="Section_Title">Why does the JVM on my SPARC machines crash regularly?</div><div id="ww3_25_12_2_24_4" class="Body">You may be encountering a known issue with the Hotspot JVM for SPARC. The problem is expected to occur with Hotspot 1.6.0_08 and higher, but may have been fixed in a later version. For more information, see this <span class="xref"><a href="http://bugs.java.com/bugdatabase/view_bug.do?bug_id=6849574" target="external_window">bug report</a></span>.</div><footer><!-- Related Topics --><!--                --><!-- Back to Top --><!--             --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><br></footer><div><div style="font-family: Arial, Verdana, Helvetica, Sans-Serif; font-size: 11px; margin-top: 20px; margin-bottom: 20px;"><span class="xref"><a href="http://documentation.softwareag.com/legal/" target="external_window">Copyright Â© <span>2010</span><span>-2016</span><span></span><span></span> Software AG, Darmstadt, Germany</a></span>.</div><hr></div><div style="font-family: Arial, Verdana, Helvetica, Sans-Serif; font-size: 13px; font-weight: bold; margin-top: 20px;"><span><img style="vertical-align:middle" src="../connect/terracotta_online.png" alt="Product Logo"><a href="https://empower.softwareag.com/ContactSupport/default.asp" target="_blank">Contact&nbsp;Support</a>
         &nbsp;&nbsp;|&nbsp;&nbsp;
       <a href="http://www.softwareag.com/corporate/community/default.asp" target="_blank">Community</a>
         &nbsp;&nbsp;|&nbsp;&nbsp;
       <a href="mailto://documentation@softwareag.com" target="_blank">Feedback&nbsp;&nbsp;</a></span></div></body></html>