<!DOCTYPE html ><html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8"><meta http-equiv="Content-Style-Type" content="text/css"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>Database Backup Utility (backup-data)</title><link rel="Prev" href="re-scripts_archive_utility.html" title="Previous"><link rel="Next" href="re-scripts_backup_status.html" title="Next"><link rel="StyleSheet" href="css/aaa_bigmem_max_all.css" type="text/css" media="all"><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all"><link rel="StyleSheet" href="css/social.css" type="text/css" media="all"><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all"><!--[if IE 7]><link rel="StyleSheet" href="css/aaa_bigmem_max_all_IE7.css" type="text/css" media="all"><![endif]--><link rel="StyleSheet" href="css/print.css" type="text/css" media="print"><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if (window === window.top) {
        // Redirect
        //
        redirect_url = "../index.html#page/bigmemory-max-webhelp/re-scripts_database_backup.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');
            redirect_url += '#' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script></head><body id="pdEIhS53qII9Utq49q3cP0A" class="ww_skin_page_body" onload="Page.OnLoad('../index.html#page/bigmemory-max-webhelp/re-scripts_database_backup.html');"><header id="wwconnect_header"><div class="ww_skin_breadcrumbs"><span class="ww_skin_breadcrumbs_parent"><a href="../bigmemory-max-webhelp/to-title_product_documentation.html#wwconnect_header">Product Documentation</a></span><span class="ww_skin_breadcrumbs_divider"> : </span><span class="ww_skin_breadcrumbs_parent"><a href="../bigmemory-max-webhelp/to-title_bigmemory_max_admin_guide.html#wwconnect_header">BigMemory Max Administrator Guide</a></span><span class="ww_skin_breadcrumbs_divider"> : </span><span class="ww_skin_breadcrumbs_parent"><a href="../bigmemory-max-webhelp/to-scripts_operational_scripts.html#wwconnect_header">Operational Scripts</a></span><span class="ww_skin_breadcrumbs_divider"> : </span><span class="ww_skin_breadcrumbs_current">Database Backup Utility (backup-data)</span></div><div class="ww_skin_page_toolbar"></div></header><div id="ww3_17_12_37_8_1" class="Heading_3">Database Backup Utility (backup-data)</div><div id="ww3_17_12_37_8_3_2_2" class="Body">The backup utility creates a backup of the data being shared by your application by taking a snapshot of the data held by the Terracotta Server Array (TSA). Unless a different directory is specified in configuration, backups are saved to the default directory <span class="codeph">${user.dir}/terracotta/backups</span>.</div><div id="ww3_17_12_37_8_3_4_2" class="Section_Title">Configuring Backup</div><div id="ww3_17_12_37_8_3_4_4" class="Body">You can override this default behavior by specifying a different backup directory in the server's configuration file using the <span class="codeph">&lt;data-backup&gt;</span> property:</div><div id="ww3_17_12_37_8_3_4_6" class="Preformatted">&lt;servers&gt; <br>   &lt;restartable enabled="true"/&gt; <br>... <br>   &lt;server host="%i" name="myServer"&gt; <br>   ... <br>     &lt;data-backup&gt;/Users/myBackups&lt;/data-backup&gt; <br>   &lt;/server&gt; <br>... <br>&lt;/servers&gt;</div><div id="ww3_17_12_37_8_3_4_8" class="Body">Note that enabling <span class="codeph">&lt;restartable&gt;</span> mode is required for using the backup utility.</div><div id="ww3_17_12_37_8_3_6_2" class="Section_Title">Creating a Backup</div><div id="ww3_17_12_37_8_3_6_4" class="Body">The backup utility relies on the Terracotta Management Server (TMS) to locate and execute backups. The TMS must be running and connected to the TSA for the backup to take place. For more information about connecting the Terracotta Management Server to the TSA, see the <span class="Citation">Terracotta Management Console User Guide</span>.</div><div id="ww3_17_12_37_8_3_6_6" class="Body">For Microsoft Windows:</div><div id="ww3_17_12_37_8_3_6_8" class="Preformatted">[PROMPT] %BIGMEMORY_HOME%\tools\management-console\bin\backup-data.bat &lt;args&gt;</div><div id="ww3_17_12_37_8_3_6_10" class="Body">For UNIX/Linux:</div><div id="ww3_17_12_37_8_3_6_12" class="Preformatted">[PROMPT] ${BIGMEMORY_HOME}/tools/management-console/bin/backup-data.sh &lt;args&gt;</div><div id="ww3_17_12_37_8_3_6_14" class="Body">where <span class="codeph">&lt;args&gt;</span> are:</div><div id="ww3_17_12_37_8_3_6_16_2" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span>[l] &lt;tms-host:port&gt; – The host and port used to connect to the TMS. If omitted, <span class="codeph">localhost:9889</span> is used by default.</div><div id="ww3_17_12_37_8_3_6_16_4" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span>[u] &lt;username&gt; – If the TMS requires authentication, a username must be specified.</div><div id="ww3_17_12_37_8_3_6_16_6" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span>[p] &lt;password&gt; – If the TMS requires authentication, a password must be specified.</div><div id="ww3_17_12_37_8_3_6_16_8" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span>[a] &lt;agentID&gt; – Specify the agent ID of a TSA. The agent ID is set as a connection name when the connection to the TSA is configured on the TMS. If no agent ID is provided, the TMS returns a list of configured agent IDs.</div><div id="ww3_17_12_37_8_3_6_16_10" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span>[k] This flag causes invalid TMS SSL certificates to be ignored.</div><div id="ww3_17_12_37_8_3_6_18" class="Body">For example, to initiate a backup on a cluster with the agent ID "someConnection":</div><div id="ww3_17_12_37_8_3_6_20" class="Preformatted">${BIGMEMORY_HOME}/tools/management-console/bin/ <br>backup-data.sh -l my-tms-host:9889 \ -u admin <br>-p admin -a someConnection -k</div><div id="ww3_17_12_37_8_3_6_22" class="Body">If initiation is successful, the script reports that the backup process has started. Once the backup is complete, the backup data files can be used to restore data in place of the current data files. For information about restoring data from a backup, see <span class="heading-page"><a href="../bigmemory-max-webhelp/co-bkp_restoring_data_from_backup.html#wwconnect_header" title="Restoring Data from a Backup">Restoring Data from a Backup</a></span>.</div><footer><!-- Related Topics --><!--                --><!-- Back to Top --><!--             --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><br></footer><div><div style="font-family: Arial, Verdana, Helvetica, Sans-Serif; font-size: 11px; margin-top: 20px; margin-bottom: 20px;"><span class="xref"><a href="http://documentation.softwareag.com/legal/" target="external_window">Copyright © <span>2010</span><span>-2016</span><span></span><span></span> Software AG, Darmstadt, Germany</a></span>.</div><hr></div><div style="font-family: Arial, Verdana, Helvetica, Sans-Serif; font-size: 13px; font-weight: bold; margin-top: 20px;"><span><img style="vertical-align:middle" src="../connect/terracotta_online.png" alt="Product Logo"><a href="https://empower.softwareag.com/ContactSupport/default.asp" target="_blank">Contact&nbsp;Support</a>
         &nbsp;&nbsp;|&nbsp;&nbsp;
       <a href="http://www.softwareag.com/corporate/community/default.asp" target="_blank">Community</a>
         &nbsp;&nbsp;|&nbsp;&nbsp;
       <a href="mailto://documentation@softwareag.com" target="_blank">Feedback&nbsp;&nbsp;</a></span></div></body></html>